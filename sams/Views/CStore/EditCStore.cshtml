@model sams.Models.CStoreViewModel
@using sams.Common;
@{
    UserViewModel loggedInUser = Context.Session.GetObjectFromJson<UserViewModel>("LoggedInAdmin");
}

@{
    ViewData["Title"] = "AddCStore";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";

    var latt = sams.Common.Helper.SamsLatitude; // "35.1043081";
    var lonn = sams.Common.Helper.SamsLongitude; // "-80.7123775";

    string isBroker = "";
    string hideDiv = " style=display:none; ";
    if (Model.CheckIfPropertyListed == 1)
    {
        isBroker = "checked";
        hideDiv = "  ";


    }

    var hideAssetTypeDetailsLease = " style=display:none; ";
    var hideAssetTypeDetailsLeaseAndFee = " style=display:none;  ";
    var hideAssetTypeOptionPurchaseDetails = " style=display:none; ";


    var hidePriceNumeric = " style=display:none; ";
    var hidePriceString = " style=display:none; ";

    if (Model.CStoreId == 0)
    {
        Model.AssetTypeId = 2;
    }

    if (Model.AssetTypeId == 1)
    {
        hideAssetTypeDetailsLease = "";
        hideAssetTypeDetailsLeaseAndFee = " style=display:none;  ";

        hidePriceString = "";
        hidePriceNumeric = " style=display:none; ";
        hideAssetTypeOptionPurchaseDetails = " style=display:none; ";

    }
    else if (Model.AssetTypeId == 6)
    {
        hideAssetTypeDetailsLease = "";
        hideAssetTypeDetailsLeaseAndFee = " style=display:none;  ";

        hidePriceString = " style=display:none; ";
        hidePriceNumeric = "";
        hideAssetTypeOptionPurchaseDetails = " style=display:none; ";

    }
    else if(Model.AssetTypeId == 3)
    {
        hideAssetTypeDetailsLease = " style=display:none; ";
        hideAssetTypeDetailsLeaseAndFee = " ";

        hidePriceString = " style=display:none;  ";
        hidePriceNumeric = " ";
        hideAssetTypeOptionPurchaseDetails = " style=display:none; ";
    }
    else if (Model.AssetTypeId == 5)
    {
        hideAssetTypeDetailsLease = " style=display:none; ";
        hideAssetTypeDetailsLeaseAndFee = " style=display:none; ";

        hidePriceString = "";
        hidePriceNumeric = " style=display:none;  ";
        hideAssetTypeOptionPurchaseDetails = "  ";
    }
    else
    {
        hideAssetTypeDetailsLease = " style=display:none; ";
        hideAssetTypeDetailsLeaseAndFee = " style=display:none; ";

        hidePriceString = " style=display:none;  ";
        hidePriceNumeric = " ";
        hideAssetTypeOptionPurchaseDetails = " style=display:none; ";
    }

    string isOilContract = "";
    string hideDivOil = " style=display:none; ";
    if (Model.CheckIfOilSupplyContractApplicable == 1)
    {
        isOilContract = "checked";
        hideDivOil = "  ";
    }

    string isOilContractLeaseAndFee = "";
    string hideDivOilLeaseAndFee = " style=display:none; ";
    if (Model.CheckIfOilSupplyContractApplicableLeaseAndFee == 1)
    {
        isOilContractLeaseAndFee = "checked";
        hideDivOilLeaseAndFee = "  ";
    }

    var hideStatusDateSection = "display:none;";
    var dateStatusText = "";
    if (Model.SelectedPropertyStatusId == 2 || Model.SelectedPropertyStatusId == 3)
    {
        hideStatusDateSection = "";
        if (Model.SelectedPropertyStatusId == 2)
        {
            dateStatusText = "Under Contract Date *";
        }
        else if (Model.SelectedPropertyStatusId == 3)
        {
            dateStatusText = "Closing Date *";
        }
    }
}

    <script>

        function saveData() {

            var txtPropertyHeader = $("#PropertyHeader").val();
            if (txtPropertyHeader == '') {
                canSave = false;
                $("#errPropertyHeader").html("<font color='red'>Please enter Listing Header</font>");
                $("#PropertyHeader").focus();
                return;
            }
            else {
                $("#errPropertyHeader").html("");
            }

            var txtCity = $("#City").val();
            if (txtCity == '') {
                canSave = false;
                $("#errCity").html("<font color='red'>Please enter City</font>");
                $("#City").focus();
                return;
            }
            else {
                $("#errCity").html("");
            }

            var txtZipcode = $("#Zipcode").val();
            if (txtZipcode == '') {
                canSave = false;
                $("#errZipcode").html("<font color='red'>Please enter Zipcode</font>");
                $("#Zipcode").focus();
                return;
            }
            else {
                $("#errZipcode").html("");
            }

            var txtCounty = $("#County").val();
            if (txtCounty == '') {
                canSave = false;
                $("#errCounty").html("<font color='red'>Please enter County</font>");
                $("#County").focus();
                return;
            }
            else {
                $("#errCounty").html("");
            }



            var txtAskingPrice = $("#AskingPrice").val();

            /*
            if (txtAskingPrice == '') {
                canSave = false;
                $("#errAskingPrice").html("<font color='red'>Please enter Asking Price</font>");
                $("#AskingPrice").focus();
                return;
            }
            else {
                $("#errAskingPrice").html("");
            }
            */

            var txtLandSize = $("#LandSize").val();
            if (txtLandSize == '') {
                canSave = false;
                $("#errLandSize").html("<font color='red'>Please enter Land Size</font>");
                $("#LandSize").focus();
                return;
            }
            else {
                $("#errLandSize").html("");
            }

            var txtBuildingArea = $("#BuildingArea").val();

            if (txtBuildingArea == '') {
                canSave = false;
                $("#errBuildingArea").html("<font color='red'>Please enter Building Area</font>");
                $("#BuildingArea").focus();
                return;
            }
            else {
                $("#errBuildingArea").html("");
            }

            var statusChangedDate = $("#p_StatusUpdateDate").val();
            if (selPropertyStatus > 1 && statusChangedDate == '') {
                $("#errStatusUpdateDate").html("<font color='red'>Please enter a date</font>");
                return;
            }

            $("#SaveCStore").submit();
        }


        function cancelEdit() {
            //location.href = "ViewCStore?propertyId=@Model.CStoreId";
            var baseUrl = "@Url.Action("ViewCStore", "CStore")?propertyId=@Model.CStoreId";
            location.href = baseUrl;
        }

        function vliewAllCStroreList() {
            var baseUrl = "@Url.Action("Index", "CStore")";
            location.href = baseUrl;
        }

        function checkClientRepresentation() {
            var selected = document.querySelector('[id="radioIsPropertyListed"]:checked')
            if (selected != null) {
                $("#CheckIfPropertyListed").val("1");
                $("#divClientPropertyListed").show();
            }
            else {
                $("#CheckIfPropertyListed").val("0");
                $("#divClientPropertyListed").hide();
            }

        }

        function checkOilSupplyContractApplicable() {
            var selected = document.querySelector('[id="radioCheckIfOilSupplyContractApplicable"]:checked')
            if (selected != null) {
                $("#CheckIfOilSupplyContractApplicable").val("1");
                $("#divSupplyContracTerm").show();
            }
            else {
                $("#CheckIfOilSupplyContractApplicable").val("0");
                $("#divSupplyContracTerm").hide();
            }

        }

        function checkOilSupplyContractApplicableLeaseAndFee() {
            var selected = document.querySelector('[id="radioCheckIfOilSupplyContractApplicableLeaseAndFee"]:checked')
            if (selected != null) {
                $("#CheckIfOilSupplyContractApplicableLeaseAndFee").val("1");
                $("#divSupplyContracTermLeaseAndFee").show();
            }
            else {
                $("#CheckIfOilSupplyContractApplicable").val("0");
                $("#divSupplyContracTermLeaseAndFee").hide();
            }

        }

        function getSelectedAssetType() {
            var assetTypeId = $("#AssetTypeId").val();
            if (assetTypeId == 1) {
                $("#divAssetTypeLease").show();
                $("#divAssetTypeLeaseAndFee").hide();

                $("#divNumericAskingPrice").hide();
                $("#divStringAskingPrice").show();
                $("#divAssetTypeOptionToPrice").hide();
                $("#lblAskingRent").text("Asking Rent");
            }
            else if (assetTypeId == 3) {
                $("#divAssetTypeLease").hide();
                $("#divAssetTypeLeaseAndFee").show();

                $("#divNumericAskingPrice").show();
                $("#divStringAskingPrice").hide();
                $("#divAssetTypeOptionToPrice").hide();

            }
            else if (assetTypeId == 5) {
                $("#divAssetTypeLease").hide();
                $("#divAssetTypeLeaseAndFee").hide();

                $("#divNumericAskingPrice").hide();
                $("#divStringAskingPrice").show();
                $("#divAssetTypeOptionToPrice").show();
            }
            else if (assetTypeId == 6) {
                $("#divAssetTypeLease").show();
                $("#divAssetTypeLeaseAndFee").hide();

                $("#divNumericAskingPrice").show();
                $("#divStringAskingPrice").hide();
                $("#divAssetTypeOptionToPrice").hide();
                $("#lblAskingRent").text("Rent");
            }
            else {
                $("#divAssetTypeLease").hide();
                $("#divAssetTypeLeaseAndFee").hide();

                $("#divNumericAskingPrice").show();
                $("#divStringAskingPrice").hide();
                $("#divAssetTypePurchaseToLeaseBack").hide();
            }
        }

        function changeStatus() {
            var stateId = $("#selPropertyStatus").val();
            if (stateId == 2) {
                $("#divStatusChangeDate").show();
                $("#lblStatusUpdateDate").html("Under Contract Date *");
            }
            else if (stateId == 3) {
                $("#divStatusChangeDate").show();
                $("#lblStatusUpdateDate").html("Closing Date *");
            }
            else {
                $("#divStatusChangeDate").hide();
            }

        }

        function getRegionList() {
        var stateId = $("#StateId").val();

        $("select#selRegion").empty();
        $.getJSON(`@Url.Action("GetRegionByStateId", "Region")?stateId=${stateId}`, function (data) {
            $("select#selRegion").append(`<option value="0">--- Select ---</option>`);
            $.each(data, function (i, item) {
                //alert(JSON.stringify(item));
                $("select#selRegion").append(`<option value="${item.id}">${item.name}</option>`);
            });
        });
    }

    </script>
    <div class="content-wrapper">


        <section class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                    <div class="col-sm-6">
                        <h1>C-Store Property List</h1>
                    </div>
                    <div class="col-sm-6">
                        <ol class="breadcrumb float-sm-right">
                            <li class="breadcrumb-item"><a href="Index">All List</a></li>
                            <li class="breadcrumb-item active">View Details</li>
                        </ol>
                    </div>
                </div>
            </div><!-- /.container-fluid -->
        </section>


        <section class="content">
            <form asp-action="SaveCStore" id="SaveCStore" name="SaveCStore" method="post" enctype="multipart/form-data">
                <div class="row">
                    <div class="col-12">
                        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyByxJE-OM4Lv77gVdAYJAfKOiDpD6H9ofg&v=3.exp&sensor=false&libraries=places"></script>
                        <script>
                                                    function initialize() {
                                                        var marker;





                                                        var mapOptions = {
                                                            center: new google.maps.LatLng(@latt, @lonn),
                                                            zoom: 17,
                                                            mapTypeId: google.maps.MapTypeId.ROADMAP

                                                        };
                                                        map = new google.maps.Map(document.getElementById('map-canvas'),
                                                            mapOptions);

                                                        var image = 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png';
                                                        var icon = new google.maps.MarkerImage("http://www.googlemapsmarkers.com/v1/BC03DC/");
                                                        var ig = '../img/map/map_red.png';

                                                        marker = new google.maps.Marker({
                                                            // The below line is equivalent to writing:
                                                            // position: new google.maps.LatLng(-34.397, 150.644)

                                                            /*
                                                            icon: {
                                                                path: google.maps.SymbolPath.CIRCLE,
                                                                scale: 10,
                                                                strokeColor: '#939'
                                                            },
                                                            */
                                                            icon: ig,
                                                            position: { lat: @latt, lng: @lonn },
                                                            map: map
                                                        });

                                                        var input = /** */(document.getElementById('searchTextField'));
                                                        var autocomplete = new google.maps.places.Autocomplete(input);

                                                        autocomplete.bindTo('bounds', map);



                                                        var infowindow = new google.maps.InfoWindow();
                                                        marker = new google.maps.Marker({
                                                            map: map
                                                        });




                                                        google.maps.event.addListener(map, 'click', function (e) {

                                                            marker.setMap(null);

                                                            //Determine the location where the user has clicked.
                                                            var location = e.latLng;

                                                            //Create a marker and placed it on the map.

                                                            marker = new google.maps.Marker({
                                                                position: location,
                                                                map: map
                                                            });

                                                            $("#txtLatitude").val(location.lat());
                                                            $("#txtLongitude").val(location.lng());

                                                            /*
                                                                    marker = map.addMarker(mapOptions).position(new Latlng(31.647316, 74.763791));
                                                            */

                                                            //Attach click event handler to the marker.
                                                            google.maps.event.addListener(marker, "click", function (e) {



                                                                var infoWindow = new google.maps.InfoWindow({
                                                                    //content: 'Latitude: ' + location.lat() + '<br />Longitude: ' + location.lng()
                                                                    content: '@Model.PropertyHeader'
                                                                });



                                                                infoWindow.open(map, marker);

                                                            });

                                                        });


                                                        google.maps.event.addListener(autocomplete, 'place_changed', function () {
                                                            infowindow.close();
                                                            marker.setVisible(false);
                                                            //input.className = 'form-control';
                                                            var place = autocomplete.getPlace();
                                                            if (!place.geometry) {
                                                                // Inform the user that the place was not found and return.
                                                                //input.className = 'form-control';
                                                                return;
                                                            }

                                                            var location = place.geometry.location;

                                                            $("#txtLatitude").val(location.lat());
                                                            $("#txtLongitude").val(location.lng());

                                                            // If the place has a geometry, then present it on a map.
                                                            if (place.geometry.viewport) {
                                                                map.fitBounds(place.geometry.viewport);
                                                            } else {
                                                                map.setCenter(place.geometry.location);
                                                                map.setZoom(17);  // Why 17? Because it looks good.
                                                            }

                                                            marker.setPosition(place.geometry.location);
                                                            marker.setVisible(true);

                                                            var address = '';
                                                            if (place.address_components) {
                                                                address = [
                                                                    (place.address_components[0] && place.address_components[0].short_name || ''),
                                                                    (place.address_components[1] && place.address_components[1].short_name || ''),
                                                                    (place.address_components[2] && place.address_components[2].short_name || '')
                                                                ].join(' ');
                                                            }

                                                            infowindow.setContent('<div><strong>' + place.name + '</strong><br>' + address + '<br>' + location.lng() + '<br>' + location.lat());


                                                            infowindow.open(map, marker);
                                                        });

                                                        // Sets a listener on a radio button to change the filter type on Places
                                                        // Autocomplete.
                                                        function setupClickListener(id, types) {
                                                            var radioButton = document.getElementById(id);
                                                            google.maps.event.addDomListener(radioButton, 'click', function () {


                                                                autocomplete.setTypes(types);
                                                            });
                                                        }

                                                        setupClickListener('changetype-all', []);
                                                        setupClickListener('changetype-establishment', ['establishment']);
                                                        setupClickListener('changetype-geocode', ['geocode']);

                                                    }

                                                    google.maps.event.addDomListener(window, 'load', initialize);



                        </script>


                        <div class="card card-info">
                            <div class="card-header @sams.Common.Helper.PrimaryColor">

                                <div class="row">
                                    <div class="col-10">
                                        <h3 class="card-title">Address And Map</h3>
                                    </div>
                                    <div class="col-2">

                                    </div>
                                </div>

                            </div>
                            <div class="card-body">

                                <div class="form-group">
                                    <input id="searchTextField" name="Address" /*id ="searchTextField" * / type="text" class="form-control" value="@Model.Address" />
                                </div>

                                <div id="map-canvas" style="height:400px;width:100%;">

                                </div>


                                <div class="form-group">
                                    <input type="hidden" name="Latitude" id="txtLatitude" value="@Model.Latitude" />
                                    <input type="hidden" name="Longitude" id="txtLongitude" value="@Model.Longitude" />


                                </div>


                            </div>
                            <!-- /.card-body -->
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">



                        <script>
                            function limitText() {
                                var txtHeader = $("#PropertyHeader").val();
                                var strLength = 40 - txtHeader.length;

                                $("#errTextIndicator").html("<font color='#1c1c1c'>You can enter " + strLength + " of 40 characters</font>");
                            }
                        </script>


                        <div class="card card-info">
                            <div class="card-header @sams.Common.Helper.PrimaryColor">
                                <h3 class="card-title">C-Store Details</h3>
                            </div>
                            <div class="card-body">

                                <div class="form-group">
                                    <label asp-for="PropertyHeader" class="control-label">Listing Header Line 1 *</label>
                                    <input asp-for="PropertyHeader" class="form-control" maxlength="40"  />
                                    <div id="errPropertyHeader"></div>
                                    <div id="errTextIndicator"><i>You can enter upto 40 characters</i></div>
                                </div>

                                <div class="form-group">
                                    <label asp-for="PropertyHeaderLine2" class="control-label">Listing Header Line 2 *</label>
                                    <input asp-for="PropertyHeaderLine2" class="form-control" maxlength="40"  />
                                    <div id="errPropertyHeader"></div>
                                    <div id="errTextIndicator"><i>You can enter upto 40 characters</i></div>
                                </div>

                                <div class="form-group">
                                    <label asp-for="AssetId" class="control-label">Sams Holdings Asset #</label>
                                    <input asp-for="AssetId" class="form-control" />
                                    <div id="errAssetId"></div>
                                </div>

                                <!--
    <div class="form-group">
        <label asp-for="Address" class="control-label">Address</label>
        <input asp-for="Address" class="form-control" />
        <div id="errAddress"></div>
    </div>
    -->

                                <div class="form-group">
                                    <label asp-for="City" class="control-label">City Name *</label>
                                    <input asp-for="City" class="form-control" />
                                    <div id="errCity"></div>
                                </div>

                                <div class="form-group">
                                    <input type="hidden" asp-for="CStoreId" class="form-control" />
                                    <label for="StateId" class="control-label">Select State</label>
                                    <select id="StateId" name="StateId" class="form-select form-control" onchange="getRegionList()">

                                        @if (Model != null)
                                        {
                                            foreach (var itemSel in Model.StateList)
                                            {
                                                if (Model.StateId == itemSel.StateId)
                                                {
                                                    <option selected value="@itemSel.StateId">@itemSel.StateName</option>
                                                }
                                                else
                                                {
                                                    <option value="@itemSel.StateId">@itemSel.StateName</option>
                                                }
                                            }
                                        }

                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="selRegion" class="control-label">Select Region</label>
                                    <select id="selRegion" name="RegionId" class="form-select form-control">
                                        <option value="0">--- Select ---</option>
                                        @if (Model != null)
                                        {
                                            foreach (var itemSel in Model.RegionList)
                                            {
                                                if (Model.RegionId == itemSel.RegionId)
                                                {
                                                    <option selected value="@itemSel.RegionId">@itemSel.RegionName</option>
                                                }
                                                else
                                                {
                                                    <option value="@itemSel.RegionId">@itemSel.RegionName</option>
                                                }

                                            }
                                        }

                                    </select>
                                </div>

                                <div class="form-group">
                                    <label asp-for="Zipcode" class="control-label">ZIP Code *</label>
                                    <input asp-for="Zipcode" class="form-control" />
                                    <div id="errZipcode"></div>
                                </div>

                                <div class="form-group">
                                    <label asp-for="County" class="control-label">County *</label>
                                    <input asp-for="County" class="form-control" />
                                    <div id="errCounty"></div>
                                </div>

                                <div class="form-group">
                                    <label asp-for="PropertyTaxes" class="control-label">Property Tax</label>
                                    <input asp-for="PropertyTaxes" class="form-control" />

                                    <input type="hidden" id="PropertyTypeId" name="PropertyTypeId">
                                </div>

                                <div class="form-group">
                                    <label asp-for="Description" class="control-label">Description</label>
                                    <textarea rows="4" asp-for="Description" class="form-control"></textarea>
                                    <div id="errDescription"></div>
                                </div>

                                <div class="form-group">
                                    <label for="selPropertyStatus" class="control-label">Status</label>
                                    <select id="selPropertyStatus" name="SelectedPropertyStatusId" class="form-select form-control" onchange="changeStatus()">
                                        <option value="0">--- Select ---</option>
                                        @if (Model != null)
                                        {
                                            foreach (var itemSel in Model.propertyStatusList)
                                            {
                                                if (Model.SelectedPropertyStatusId == itemSel.PropertyStatusId)
                                                {
                                                    <option selected value="@itemSel.PropertyStatusId">@itemSel.PropertyStatus</option>
                                                }
                                                else
                                                {
                                                    <option value="@itemSel.PropertyStatusId">@itemSel.PropertyStatus</option>
                                                }

                                            }
                                        }

                                    </select>
                                </div>

                                @{
                                    //var dtStatusChangedDate = Model.StatusChangedDate == default(DateTime?) ? "" : Model.StatusChangedDate.Value.ToString("yyyy-MM-dd");
                                    var dtStatusChangedDate = Model.StatusChangedDate == default(DateTime?) ? "" : Model.StatusChangedDate.Value.ToString("MM-dd-yyyy");
                                }
                                <div class="form-group" style="@hideStatusDateSection" id="divStatusChangeDate">
                                    <label id="lblStatusUpdateDate" for="" class="control-label">@dateStatusText</label>
                                    <!--
                                                        <input type="text" value="dtDDPExtensionDisp" name="DDPExtension" class="form-control" id="p_DDPExtension" readonly />
        -->
                                    <input type="text" name="StatusChangedDate" class="form-control" id="p_StatusUpdateDate" value="@dtStatusChangedDate" readonly />
                                    <div id="errStatusUpdateDate"></div>
                                </div>

                            </div>
                            <!-- /.card-body -->
                        </div>


                        <!-- /.card -->
                    </div>


                    <div class="col-lg-6">
                        <div class="card card-info">
                            <div class="card-header @sams.Common.Helper.PrimaryColor">
                                <h3 class="card-title">Additional Details</h3>
                            </div>
                            <div class="card-body">

                                

                                <div class="form-group" id="divNumericAskingPrice" @hidePriceNumeric >
                                    <label asp-for="AskingPrice" class="control-label">Asking Price </label>
                                    <div class="input-group mb-3">
                                        <!--
    <div class="input-group-prepend">
        <span class="input-group-text">$</span>
    </div>
    <input asp-for="AskingPrice" class="form-control" onkeypress="return numericFilter(event);" />
    -->
                                        <input asp-for="AskingPrice" class="form-control" maxlength="50" />

                                    </div>

                                    <div id="errAskingPrice"></div>
                                </div>

                                <div class="form-group" id="divStringAskingPrice" @hidePriceString >
                                    <label asp-for="AskingPriceString" class="control-label">Asking Price/ Goodwill </label>
                                    <div class="input-group mb-3">
                                        <input asp-for="AskingPriceString" class="form-control" maxlength="50" />
                                    </div>

                                    <div id="errAskingPrice"></div>
                                </div>

                                <input asp-for="Rent" class="form-control" type="hidden" />
                                <!--
    <div class="form-group">
        <label asp-for="Rent" class="control-label">Rent</label>

        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text">$</span>
            </div>
            <input asp-for="Rent" class="form-control" type="hidden" />
        </div>
        <div id="errAskingPrice"></div>
    </div>
    -->
                                <!--
    <div class="form-group">
        <label for="AssetTypeId" class="control-label">Select Asset Type</label>
        <select id="AssetTypeId" name="AssetTypeId" class="form-select form-control">

            @if (Model != null)
            {
                foreach (var itemSel in Model.AssetTypeList)
                {
                    if (Model.AssetTypeId == itemSel.AssetTypeId)
                    {
                        <option selected value="@itemSel.AssetTypeId">@itemSel.AssetTypeName</option>
                    }
                    else
                    {
                        <option value="@itemSel.AssetTypeId">@itemSel.AssetTypeName</option>
                    }
                }
            }

        </select>
    </div>
    -->

                                <div class="form-group">
                                    <label asp-for="LandSize" class="control-label">Land Size * </label>
                                    <input asp-for="LandSize" class="form-control" />
                                    <div id="errLandSize"></div>
                                </div>
                                <div class="form-group">
                                    <label asp-for="BuildingArea" class="control-label">Building Area *</label>
                                    <input asp-for="BuildingArea" class="form-control" />
                                    <div id="errBuildingArea"></div>
                                </div>

                                <div class="form-group">
                                    <label asp-for="YearBuilt" class="control-label">Year Built</label>
                                    <input asp-for="YearBuilt" class="form-control" />
                                    <div id="errYearBuilt"></div>
                                </div>

                                <div class="form-group">
                                    <label asp-for="KnownEnvironmentalConditions" class="control-label">Known Environmental Conditions</label>
                                    <input asp-for="KnownEnvironmentalConditions" class="form-control" />
                                    <div id="errKnownEnvironmentalConditions"></div>
                                </div>

                                <div class="form-group">
                                    <label asp-for="EMVCompliance" class="control-label">EMV Compliance</label>
                                    <input asp-for="EMVCompliance" class="form-control" />
                                    <div id="errEMVCompliance"></div>
                                </div>

                                <div class="form-group">
                                    <label asp-for="HoursOfOperation" class="control-label">Hours Of Operation</label>
                                    <input asp-for="HoursOfOperation" class="form-control" />
                                    <div id="errHoursOfOperation"></div>
                                </div>

                                <div class="form-group">

                                    <input type="hidden" id="EnvironentNDAPdf" name="EnvironentNDAPdf" class="form-control" />

                                </div>



                                <div class="form-group">
                                    <label for="AssetTypeId" class="control-label">Select Asset Type</label>
                                    <select id="AssetTypeId" name="AssetTypeId" class="form-select form-control" onchange="getSelectedAssetType()">
                                        @if (Model != null)
                                        {
                                            foreach (var itemSel in Model.AssetTypeList)
                                            {
                                                if (Model.AssetTypeId == itemSel.AssetTypeId)
                                                {
                                                    <option selected value="@itemSel.AssetTypeId">@itemSel.AssetTypeName</option>
                                                }
                                                else
                                                {
                                                    <option value="@itemSel.AssetTypeId">@itemSel.AssetTypeName</option>
                                                }
                                            }
                                        }

                                    </select>

                                    <div class="card card-info" id="divAssetTypeLease" @hideAssetTypeDetailsLease>
                                        <div class="card-body">

                                            <div class="form-group">
                                                <label asp-for="Term" class="control-label">Term</label>
                                                <input asp-for="Term" class="form-control" />
                                            </div>

                                            <div class="form-group">
                                                @if (Model.AssetTypeId == 1)
                                                {
                                                    <label asp-for="AskingRent" class="control-label" id="lblAskingRent">Asking Rent</label>
                                                }
                                                else if (Model.AssetTypeId == 6)
                                                {
                                                    <label asp-for="AskingRent" class="control-label" id="lblAskingRent">Rent</label>
                                                }


                                                <div class="input-group mb-3">

                                                    <input asp-for="AskingRent" class="form-control" />
                                                </div>

                                            </div>

                                            <div class="form-group">
                                                <label for="selLeaseType" class="control-label">Lease Type</label>
                                                <select id="selLeaseType" name="LeaseType" class="form-select form-control">
                                                    <option value="0">--- Select ---</option>
                                                    @if (Model != null)
                                                    {
                                                        foreach (var itemSel in Model.LeaseTypeList)
                                                        {
                                                            if (Model.LeaseType == itemSel.LeaseTypeId)
                                                            {
                                                                <option selected value="@itemSel.LeaseTypeId">@itemSel.LeaseType</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@itemSel.LeaseTypeId">@itemSel.LeaseType</option>
                                                            }
                                                        }
                                                    }
                                                </select>
                                            </div>

                                        </div>
                                    </div>


                                    <div class="card card-info" id="divAssetTypeLeaseAndFee" @hideAssetTypeDetailsLeaseAndFee>
                                        <div class="card-body">

                                            <div class="form-group">
                                                <label asp-for="TermRemaining" class="control-label">Term Remaining</label>
                                                <input asp-for="TermRemaining" class="form-control" />
                                            </div>

                                            <div class="form-group">
                                                <label asp-for="RentalIncome" class="control-label">Rental Income</label>

                                                <div class="input-group mb-3">
                                                    <!--
                    <div class="input-group-prepend">
                        <span class="input-group-text">$</span>
                    </div>
                    <input asp-for="RentalIncome" class="form-control" onkeypress="return numericFilter(event);" />
                    -->
                                                    <input asp-for="RentalIncome" class="form-control" />

                                                </div>

                                            </div>

                                            <div class="form-group">
                                                <label for="selLeaseTypeLeaseAndFee" class="control-label">Lease Type</label>
                                                <select id="selLeaseTypeLeaseAndFee" name="LeaseTypeLeaseAndFee" class="form-select form-control">
                                                    <option value="0">--- Select ---</option>
                                                    @if (Model != null)
                                                    {
                                                        foreach (var itemSel in Model.LeaseTypeList)
                                                        {
                                                            if (Model.LeaseTypeLeaseAndFee == itemSel.LeaseTypeId)
                                                            {
                                                                <option selected value="@itemSel.LeaseTypeId">@itemSel.LeaseType</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@itemSel.LeaseTypeId">@itemSel.LeaseType</option>
                                                            }
                                                        }
                                                    }
                                                </select>
                                            </div>



                                        </div>
                                    </div>

                                    <div class="card card-info" id="divAssetTypeOptionToPrice" @hideAssetTypeOptionPurchaseDetails>
                                        <div class="card-body">

                                            <div class="form-group">
                                                <label asp-for="TermOptionPurchase" class="control-label">Term</label>
                                                <input asp-for="TermOptionPurchase" class="form-control" />
                                            </div>

                                            <div class="form-group">
                                                <label asp-for="AskingRentOptionPurchase" class="control-label">Asking Rent</label>
                                                <div class="input-group mb-3">
                                                    <input asp-for="AskingRentOptionPurchase" class="form-control" />
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="selLeaseTypePurchase" class="control-label">Lease Type</label>
                                                <select id="selLeaseTypePurchase" name="LeaseTypePurchase" class="form-select form-control">
                                                    <option value="0">--- Select ---</option>
                                                    @if (Model != null)
                                                    {
                                                        foreach (var itemSel in Model.LeaseTypeList)
                                                        {
                                                            if (Model.LeaseTypePurchase == itemSel.LeaseTypeId)
                                                            {
                                                                <option selected value="@itemSel.LeaseTypeId">@itemSel.LeaseType</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@itemSel.LeaseTypeId">@itemSel.LeaseType</option>
                                                            }
                                                        }
                                                    }
                                                </select>
                                            </div>

                                            <div class="form-group">
                                                <label asp-for="OptionPurchasePrice" class="control-label">Option Purchase Price</label>
                                                <div class="input-group mb-3">
                                                    <input asp-for="OptionPurchasePrice" class="form-control" maxlength="50" />
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                    

                                </div>


                            </div>
                            <!-- /.card-body -->
                        </div>




                        <div class="card card-info ">
                            <div class="card-header @sams.Common.Helper.PrimaryColor">
                                <div class="row">
                                    <div class="col-12">
                                        <div class="icheck-success d-inline">
                                            <input type="checkbox" name="nCheckIfOilSupplyContractApplicable" id="radioCheckIfOilSupplyContractApplicable" onchange="checkOilSupplyContractApplicable(this.value)" @isOilContract>
                                            <label for="radioCheckIfOilSupplyContractApplicable">
                                                Check If Oil Supply Contract Applicable
                                            </label>
                                            <input type="hidden" asp-for="CheckIfOilSupplyContractApplicable" class="form-control" />
                                        </div>

                                    </div>

                                </div>

                            </div>
                            <div class="card-body" id="divSupplyContracTerm" @hideDivOil>


                                <div class="form-group">
                                    <label asp-for="TermOfSupplyContract" class="control-label">Term Of Supply Contract</label>
                                    <input asp-for="TermOfSupplyContract" class="form-control" />
                                </div>

                                

                            </div>
                            <!-- /.card-body -->
                        </div>





                        <div class="card card-info ">
                            <div class="card-header @sams.Common.Helper.PrimaryColor">
                                <div class="row">
                                    <div class="col-12">
                                        <div class="icheck-success d-inline">
                                            <input type="checkbox" name="ddpExtensionNotApplicable" id="radioIsPropertyListed" onchange="checkClientRepresentation(this.value)" @isBroker>
                                            <label for="radioIsPropertyListed">
                                                Check If Property Is Listed
                                            </label>
                                            <input type="hidden" asp-for="CheckIfPropertyListed" class="form-control" />
                                        </div>

                                    </div>

                                </div>

                            </div>
                            <div class="card-body" id="divClientPropertyListed" @hideDiv>

                                <div class="form-group">
                                    <label asp-for="ListingAgentName" class="control-label">Listing Agent Name</label>
                                    <input asp-for="ListingAgentName" class="form-control" />
                                </div>

                                <div class="form-group">
                                    <label for="p_ListingExpiry" class="control-label">Listing Expires</label>
                                    <input name="ListingExpiry" value="@Model.ListingExpiry" id="p_ListingExpiry" class="form-control" />
                                </div>

                                <div class="form-group">
                                    <label asp-for="ListingPrice" class="control-label">Listing Price</label>

                                    <div class="input-group mb-3">
                                        
                                        <input asp-for="ListingPrice" class="form-control" maxlength="50" />
                                    </div>
                                    
                                </div>

                            </div>
                            <!-- /.card-body -->
                        </div>

                    </div>












                    



                </div>

                <div class="row">
                    <div class="col-lg-12">

                        <div class="form-group">
                            @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 4).CanEdit)
                            {
                                <input type="button" id="btnSave" value="Save Changes" class="btn btn-primary" onclick="saveData();" />
                            }

                            @if (Model.CStoreId == 0)
                            {
                                <input type="button" id="btnSave" value="Cancel Edit" class="btn btn-success" onclick="vliewAllCStroreList();" />
                            }
                            else
                            {
                                <input type="button" id="btnSave" value="Cancel Edit" class="btn btn-success" onclick="cancelEdit();" />
                            }

                        </div>
                    </div>

                </div>

            </form>




        </section>
    </div>

