@model sams.Models.NetleasePropertiesViewModel

@using sams.Common;
@{
    UserViewModel loggedInUser = Context.Session.GetObjectFromJson<UserViewModel>("LoggedInAdmin");
}


@{
    ViewData["Title"] = "ViewNetLeaseProperties";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";

    var showAcquisition = "";
    var showDispositions = "";
    var showLease = "";

    var rbtnAcquisition = "";
    var rbtnDispositions = "";
    var rbtnLease = "";
    var showLeaseMatrix = "";

    var disableAcquisition = "";
    var disableDisposition = "";

    var periodType = "";

    if (Model.DiligenceType == 0 || Model.DiligenceType == 1)
    {
        showAcquisition = "display:none";
        showDispositions = "";
        showLease = "display:none";
        showLeaseMatrix = "display:none";

        rbtnAcquisition = "checked";
        rbtnDispositions = "";
        rbtnLease = "";

        periodType = "Disposition";
    }
    else if (Model.DiligenceType == 2)
    {
        showAcquisition = "display:none";
        showDispositions = "";
        showLease = "display:none";
        showLeaseMatrix = "display:none";

        rbtnAcquisition = "";
        rbtnDispositions = "checked";
        rbtnLease = "";

        periodType = "Disposition";
    }
    else if (Model.DiligenceType == 3)
    {
        showAcquisition = "display:none";
        showDispositions = "display:none";
        //showLease = "display:none";
        showLeaseMatrix = "";

        rbtnAcquisition = "";
        rbtnDispositions = "";
        rbtnLease = "checked";

        periodType = "Lease";
    }




    var latt = sams.Common.Helper.SamsLatitude; // "35.1043081";
    var lonn = sams.Common.Helper.SamsLongitude; // "-80.7123775";

    if (Model.Latitude.Trim().Length > 0)
    {
        latt = Model.Latitude;
        lonn = Model.Longitude;
    }

    string isBroker = "";
    string hideDiv = " style=display:none; ";
    if (Model.CheckIfPropertyListed == 1)
    {
        isBroker = "checked";
        hideDiv = "  ";
    }

    var hideStatusDateSection = "display:none;";
    var dateStatusText = "";
    if (Model.SelectedPropertyStatusId == 2 || Model.SelectedPropertyStatusId == 3)
    {
        hideStatusDateSection = "";
        if (Model.SelectedPropertyStatusId == 2)
        {
            dateStatusText = "Under Contract Date *";
        }
        else if (Model.SelectedPropertyStatusId == 3)
        {
            dateStatusText = "Closing Date *";
        }
    }

    var canShowInListing = Model.ShowInListing;
    var showListingText = "Show In Listing";
    if (canShowInListing)
    {
        showListingText = "Hide From Listing";
    }

    string numericPropertyPrice = new String(Model.PropertyPrice.Where(Char.IsDigit).ToArray());
    string numericListingPrice = new String(Model.ListingPrice.Where(Char.IsDigit).ToArray());
}

    <script>
        function viewList(isShoppingCenter) {
        /*
        if (isShoppingCenter == "True") {
            //location.href = "Index";
            var baseUrl = "Url.Action("GetShoppingCenterList", "NetLeaseProperties")";
            location.href = baseUrl;
        }
        else {
            //location.href = "Index";
            var baseUrl = "Url.Action("Index", "NetLeaseProperties")";
            location.href = baseUrl;
        }
        */

        var baseUrl = "@Url.Action("Index", "NetLeaseProperties")";
        location.href = baseUrl;

    }

    function editDetails(propertyId) {
        //location.href = "EditNetLeaseProperty?propertyId=" + propertyId;
        var baseUrl = "@Url.Action("EditNetLeaseProperty", "NetLeaseProperties")?propertyId=" + propertyId;
        location.href = baseUrl;
    }

    function postImage() {
        if (confirm("Do you want to proceed?")) {
            $("#frmImage").submit();
        }
    }

        function removeImage(imageId, propertyId) {

            if (confirm("Do you want to delete the image?")) {
                //location.href = "DeleteImage/?imageId=" + imageId + "&propertyId=" + propertyId;
                var baseUrl = "@Url.Action("DeleteImage", "NetLeaseProperties")?imageId=" + imageId + "&propertyId=" + propertyId;
                location.href = baseUrl;
            }

        }




    function removeFile(fileId, propertyId) {
        if (confirm("Do you want to delete this file?")) {
            //location.href = "DeleteFile/?fileId=" + fileId + "&propertyId=" + propertyId;
            var baseUrl = "@Url.Action("DeleteFile", "NetLeaseProperties")?fileId=" + fileId + "&propertyId=" + propertyId;
            location.href = baseUrl;
        }
    }

    function removeConfidentialFile(fileId, propertyId) {
        if (confirm("Do you want to delete this file?")) {
            //location.href = "DeleteFile/?fileId=" + fileId + "&propertyId=" + propertyId;
            var baseUrl = "@Url.Action("DeleteConfidentialFile", "NetLeaseProperties")?fileId=" + fileId + "&propertyId=" + propertyId;
            location.href = baseUrl;
        }
    }

    function selectImage() {
        $("#UploadedImage").click();
    }

        function markAsSoldOut(propertyId) {
            if (confirm("Are you sure?")) {
                var baseUrl = "@Url.Action("MarkAsSoldOut", "NetLeaseProperties")?propertyId=" + propertyId;
                location.href = baseUrl;
                //location.href = "MarkAsSoldOut/?propertyId=" + propertyId;
            }
        }

    function saveMap() {
        if (confirm("Do you want to confirm the location?")) {
            var lat = $("#txtLatitude").val().trim();
            var lng = $("#txtLongitude").val().trim();

            if (lat == '') {
                alert("Please select a location");
                return;
            }

            $("#SaveMapLocation").submit();
        }

    }

    function maanageTenant(shoppingCenterClientId, cStoreId) {
        var baseUrl = "@Url.Action("GetShoppingCenterClientItem", "NetLeaseProperties")?shoppingCenterClientId=" + shoppingCenterClientId + "&cStoreId=" + cStoreId;
        location.href = baseUrl;
    }

        function removeTenant(shoppingCenterClientId, cStoreId) {
            if (confirm("Do you want to remove this item?")) {
                var baseUrl = "@Url.Action("DeleteShoppingCenterClientItem", "NetLeaseProperties")?shoppingCenterClientId=" + shoppingCenterClientId + "&cStoreId=" + cStoreId;
                location.href = baseUrl;
            }
        }

        function exportTenantList(propertyId) {
            var baseUrl = "@Url.Action("ExporTenantListTotExcel", "NetLeaseProperties")?cStoreId=" + propertyId;
            //location.href = "../CStore/DeleteProperty/?propertyId=" + propertyId;
            location.href = baseUrl;
        }

        function ddpExtensionNotApplicable1(e) {
            var selected = document.querySelector('[name="ddpExtensionNotApplicable"]:checked')

            $('#DDPExtensionOpted').val('0');
            if (selected != null) {
                $('#p_DDPExtension').val('');
                $('#DDPExtensionOpted').val('1');
            }
        }

        function selectPlanFile() {
            $("#fileUploadedShoppingMart").click();
        }

        function postShoppingMartFile() {
            if (confirm("Do you want to upload the file?")) {
                $("#frmShoppingMartPlan").submit();
            }
        }

        function maanageFutureTenant(futureTenantId, netLeaseId) {
            var baseUrl = "@Url.Action("GetFutureTenantById", "NetLeaseProperties")?futureTenantId=" + futureTenantId + "&netLeaseId=" + netLeaseId;
            location.href = baseUrl;
        }

        function removeFutureTenant(futureTenantId, netLeaseId) {

            if (confirm("Do you want to this?")) {
                var baseUrl = "@Url.Action("DeleteFutureTenant", "NetLeaseProperties")?futureTenantId=" + futureTenantId + "&netLeaseId=" + netLeaseId;
                location.href = baseUrl;
            }
        }

        function showFutureTenantTimeTracker(futureTenantId) {
            var baseUrl = "@Url.Action("GetFutureTenantCriticalDateList", "NetLeaseProperties")?futureTenantId=" + futureTenantId + "&netleaseId=" +@Model.NetleasePropertyId;
            location.href = baseUrl;
        }


        function publishData(propertyId, showInListing) {
            if (confirm("Do you want to proceed?")) {
                var baseUrl = "@Url.Action("PublishProperty", "NetLeaseProperties")/?propertyId=" + propertyId + "&canPublish=" + showInListing;
                location.href = baseUrl;
            }
        }

        function resetClosedLeaseTransaction(diligenceLeaseId) {
            if (confirm("Do You Want To Proceed?")) {
                var baseUrl = "@Url.Action("ResetClosedLeaseTransaction", "NetLeaseProperties")/?diligenceLeaseId=" + diligenceLeaseId + "&propertyId=@Model.NetleasePropertyId";
                location.href = baseUrl;
            }
        }

        function deleteLeaseTransaction(diligenceLeaseId) {
            if (confirm("Do You Want To Proceed?")) {
                var baseUrl = "@Url.Action("DeleteLeaseTransaction", "NetLeaseProperties")/?diligenceLeaseId=" + diligenceLeaseId + "&propertyId=@Model.NetleasePropertyId";
                location.href = baseUrl;
            }
        }

        function resetClosedSaleTransaction(diligenceDispositionId) {
            if (confirm("Do You Want To Proceed?")) {
                var baseUrl = "@Url.Action("ResetClosedSaleTransaction", "NetLeaseProperties")/?diligenceDispositionId=" + diligenceDispositionId + "&propertyId=@Model.NetleasePropertyId";
                location.href = baseUrl;
            }
        }

        function deleteSaleTransaction(diligenceDispositionId) {
            if (confirm("Do You Want To Proceed?")) {
                var baseUrl = "@Url.Action("DeleteSaleTransaction", "NetLeaseProperties")/?diligenceDispositionId=" + diligenceDispositionId + "&propertyId=@Model.NetleasePropertyId";
                location.href = baseUrl;
            }
        }

        function viewLeaseCriticalItems(diligenceLeaseId, propertyId) {
            var baseUrl = "@Url.Action("GetLeaseCriticalItems", "NetLeaseProperties")/?diligenceLeaseId=" + diligenceLeaseId + "&propertyId=" + propertyId;
            location.href = baseUrl;
        }

        function viewDiligenceLeaseWithPurchaseItem(diligencLeaseId, currentAssetStatusId) {
            var baseUrl = "@Url.Action("GetDiligenceLeaseWithPurchaseById", "NetLeaseProperties")/?diligenceLeaseWithPurchaseId=" + diligencLeaseId + "&propertyId=@Model.NetleasePropertyId" + "&currentAssetStatusId=" + currentAssetStatusId + "&assetTypeId=" + @Model.AssetTypeId;
            location.href = baseUrl;
        }

        function resetClosedLeaseWithPurchaseTransaction(diligenceLeaseId) {
            if (confirm("Do You Want To Proceed?")) {
                var baseUrl = "@Url.Action("ResetClosedLeaseWithPurchaseTransaction", "NetLeaseProperties")/?diligenceLeaseWithPurchaseId=" + diligenceLeaseId + "&propertyId=@Model.NetleasePropertyId";
                location.href = baseUrl;
            }
        }


        function deleteLeaseWithPurchaseTransaction(diligenceLeaseId) {
            if (confirm("Do You Want To Proceed?")) {
                var baseUrl = "@Url.Action("DeleteLeaseWithPurchaseTransaction", "NetLeaseProperties")/?diligenceLeaseWithPurchaseId=" + diligenceLeaseId + "&propertyId=@Model.NetleasePropertyId";
                location.href = baseUrl;
            }
        }

        function viewDiligenceNetleaseItem(diligencLeaseId, currentAssetStatusId) {
            var baseUrl = "@Url.Action("GetDiligenceNetleaseById", "NetLeaseProperties")/?diligenceDispositionId=" + diligencLeaseId + "&propertyId=@Model.NetleasePropertyId" + "&currentAssetStatusId=" + currentAssetStatusId + "&assetTypeId=" + @Model.AssetTypeId;
            location.href = baseUrl;
        }

        function manageFutureTenantLease(futureTenantId, netLeaseId) {
            var baseUrl = "@Url.Action("GetFutureTenantByIdOnTransaction", "NetLeaseProperties")?futureTenantId=" + futureTenantId + "&netLeaseId=" + netLeaseId;
            location.href = baseUrl;
        }

        function viewSaleLeaseBackItem(saleLeaseBackId, currentAssetStatusId) {
            var baseUrl = "@Url.Action("GetDiligenceSaleLeaseBackById", "NetLeaseProperties")/?saleLeaseBackId=" + saleLeaseBackId + "&propertyId=@Model.NetleasePropertyId" + "&currentAssetStatusId=" + currentAssetStatusId;
            location.href = baseUrl;
        }

        function resetClosedSaleLeaseBackTransaction(diligenceDispositionId) {
            if (confirm("Do You Want To Proceed?")) {
                var baseUrl = "@Url.Action("ResetClosedSaleLeaseBackTransaction", "NetLeaseProperties")/?diligenceDispositionId=" + diligenceDispositionId + "&propertyId=@Model.NetleasePropertyId";
                location.href = baseUrl;
            }
        }

        function deleteSaleLeaseBackTransaction(diligenceDispositionId) {
            if (confirm("Do You Want To Proceed?")) {
                var baseUrl = "@Url.Action("DeleteSaleLeaseBackTransaction", "NetLeaseProperties")/?diligenceDispositionId=" + diligenceDispositionId + "&propertyId=@Model.NetleasePropertyId";
                location.href = baseUrl;
            }
        }

        function deleteTransactionHistory(historyId) {
            if (confirm("Do You Want To Proceed?")) {
                var baseUrl = "@Url.Action("DeleteTransactionHistory", "NetLeaseProperties")/?historyId=" + historyId + "&propertyId=@Model.NetleasePropertyId";
                location.href = baseUrl;
            }
        }

    </script>

<style>
    #image-container {
        /*border-radius: 25px;*/
        border: 2px solid Black;
        padding: 15px 15px 15px 15px;
        margin: 20px 20px 20px 20px;
        background: #FFFFFF;
        overflow: visible;
        box-shadow: 5px 5px 2px #888888;
        position: relative;
    }

    #x {
        position: absolute;
        background: red;
        color: white;
        top: -10px;
        right: -10px;
    }
</style>

<div class="content-wrapper">

    <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    @{
                        if (Model.IsShoppingCenter)
                        {
                            <h1>Shopping Center Details</h1>
                        }


                        if (!Model.IsShoppingCenter)
                        {
                            <h1>Net Lease Property Details</h1>
                        }

                    }

                </div>
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="Index">All List</a></li>
                        <li class="breadcrumb-item active">View Details</li>
                    </ol>
                </div>
            </div>
        </div><!-- /.container-fluid -->
    </section>



    <section class="content">





        <div class="row">
            <div class="col-12 col-sm-12">
                <div class="card card-info card-tabs">
                    <div class="card-header p-0 pt-1 @sams.Common.Helper.PrimaryColor">
                        <ul class="nav nav-tabs" id="custom-tabs-one-tab" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" id="custom-tabs-one-home-tab" data-toggle="pill" href="#custom-tabs-one-home" role="tab" aria-controls="custom-tabs-one-home" aria-selected="false">Listing Details</a>
                            </li>


                        </ul>
                    </div>
                    <div class="card-body">


                        <div class="row">
                            <div class="col-12">

                                <div class="row">
                                    <div class="col-12">
                                        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyByxJE-OM4Lv77gVdAYJAfKOiDpD6H9ofg&v=3.exp&sensor=false&libraries=places"></script>
                                        <script>
                                                    function initialize() {
                                                        var marker;





                                                        var mapOptions = {
                                                            center: new google.maps.LatLng(@latt, @lonn),
                                                            zoom: 17,
                                                            mapTypeId: google.maps.MapTypeId.ROADMAP

                                                        };
                                                        map = new google.maps.Map(document.getElementById('map-canvas'),
                                                            mapOptions);

                                                        var image = 'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png';
                                                        var icon = new google.maps.MarkerImage("http://www.googlemapsmarkers.com/v1/BC03DC/");
                                                        var ig = '../img/map/map_red.png';

                                                        marker = new google.maps.Marker({
                                                            // The below line is equivalent to writing:
                                                            // position: new google.maps.LatLng(-34.397, 150.644)

                                                            /*
                                                            icon: {
                                                                path: google.maps.SymbolPath.CIRCLE,
                                                                scale: 10,
                                                                strokeColor: '#939'
                                                            },
                                                            */
                                                            icon: ig,
                                                            position: { lat: @latt, lng: @lonn },
                                                            map: map
                                                        });

                                                        var input = /** */(document.getElementById('searchTextField'));
                                                        var autocomplete = new google.maps.places.Autocomplete(input);

                                                        autocomplete.bindTo('bounds', map);



                                                        var infowindow = new google.maps.InfoWindow();
                                                        marker = new google.maps.Marker({
                                                            map: map
                                                        });




                                                        google.maps.event.addListener(map, 'click', function (e) {

                                                            marker.setMap(null);

                                                            //Determine the location where the user has clicked.
                                                            var location = e.latLng;

                                                            //Create a marker and placed it on the map.

                                                            marker = new google.maps.Marker({
                                                                position: location,
                                                                map: map
                                                            });

                                                            $("#txtLatitude").val(location.lat());
                                                            $("#txtLongitude").val(location.lng());

                                                            /*
                                                                    marker = map.addMarker(mapOptions).position(new Latlng(31.647316, 74.763791));
                                                            */

                                                            //Attach click event handler to the marker.
                                                            google.maps.event.addListener(marker, "click", function (e) {



                                                                var infoWindow = new google.maps.InfoWindow({
                                                                    //content: 'Latitude: ' + location.lat() + '<br />Longitude: ' + location.lng()
                                                                    content: '@Model.AssetName'
                                                                });



                                                                infoWindow.open(map, marker);

                                                            });

                                                        });


                                                        google.maps.event.addListener(autocomplete, 'place_changed', function () {
                                                            infowindow.close();
                                                            marker.setVisible(false);
                                                            input.className = '';
                                                            var place = autocomplete.getPlace();
                                                            if (!place.geometry) {
                                                                // Inform the user that the place was not found and return.
                                                                input.className = 'notfound';
                                                                return;
                                                            }

                                                            var location = place.geometry.location;

                                                            $("#txtLatitude").val(location.lat());
                                                            $("#txtLongitude").val(location.lng());

                                                            // If the place has a geometry, then present it on a map.
                                                            if (place.geometry.viewport) {
                                                                map.fitBounds(place.geometry.viewport);
                                                            } else {
                                                                map.setCenter(place.geometry.location);
                                                                map.setZoom(17);  // Why 17? Because it looks good.
                                                            }

                                                            marker.setPosition(place.geometry.location);
                                                            marker.setVisible(true);

                                                            var address = '';
                                                            if (place.address_components) {
                                                                address = [
                                                                    (place.address_components[0] && place.address_components[0].short_name || ''),
                                                                    (place.address_components[1] && place.address_components[1].short_name || ''),
                                                                    (place.address_components[2] && place.address_components[2].short_name || '')
                                                                ].join(' ');
                                                            }

                                                            infowindow.setContent('<div><strong>' + place.name + '</strong><br>' + address + '<br>' + location.lng() + '<br>' + location.lat());


                                                            infowindow.open(map, marker);
                                                        });

                                                        // Sets a listener on a radio button to change the filter type on Places
                                                        // Autocomplete.
                                                        function setupClickListener(id, types) {
                                                            var radioButton = document.getElementById(id);
                                                            google.maps.event.addDomListener(radioButton, 'click', function () {


                                                                autocomplete.setTypes(types);
                                                            });
                                                        }

                                                        setupClickListener('changetype-all', []);
                                                        setupClickListener('changetype-establishment', ['establishment']);
                                                        setupClickListener('changetype-geocode', ['geocode']);

                                                    }

                                                    google.maps.event.addDomListener(window, 'load', initialize);



                                        </script>





                                        <div class="card card-info">
                                            <div class="card-header @sams.Common.Helper.PrimaryColor">

                                                <div class="row">
                                                    <div class="col-10">
                                                        <h3 class="card-title">Address And Map</h3>
                                                    </div>
                                                    <div class="col-2">

                                                    </div>
                                                </div>

                                            </div>
                                            <div class="card-body">

                                                <div class="form-group">
                                                    <input id="searchTextField" type="text" class="form-control" />
                                                </div>

                                                <div id="map-canvas" style="height:400px;width:100%;">

                                                </div>


                                                <form action="@Url.Action("SaveMapLocation", "NetLeaseProperties")" id="SaveMapLocation" name="SaveMapLocation" method="post" enctype="multipart/form-data">
                                                    <div class="form-group">
                                                        <input type="hidden" name="Latitude" id="txtLatitude" value="@Model.Latitude" />
                                                        <input type="hidden" name="Longitude" id="txtLongitude" value="@Model.Longitude" />
                                                        <input type="hidden" name="PropertyId" id="txtPropertyId" value="@Model.NetleasePropertyId" />
                                                        @if (@Model.SelectedPropertyStatusId != 3)
                                                            @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                            {
                                                                <input type="button" id="btnSaveMapLocation" value="Save Map Location" class="btn btn-primary" onclick="saveMap();" />
                                                            }


                                                        </div>
                                                    </form>


                                                </div>
                                                <!-- /.card-body -->
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-6">







                                            <div class="card card-info">
                                                <div class="card-header @sams.Common.Helper.PrimaryColor">

                                                    <div class="row">
                                                        <div class="col-10">
                                                            <h3 class="card-title">Property Information</h3>
                                                        </div>
                                                        <div class="col-2">
                                                            @if (@Model.SelectedPropertyStatusId != 3)
                                                                @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                                {
                                                                    <button type="button" class="btn btn-xs btn-warning" onclick="editDetails(@Model.NetleasePropertyId);">
                                                                        Edit Details
                                                                    </button>
                                                                }

                                                            </div>
                                                        </div>

                                                    </div>
                                                <div class="card-body">

                                                    <div class="form-group">
                                                        <input type="hidden" asp-for="NetleasePropertyId" class="form-control" />

                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label asp-for="AssetId" class="control-label">Asset Id * : </label>
                                                            </div>
                                                            <div class="col-8">
                                                                @Model.AssetId
                                                            </div>
                                                        </div>

                                                    </div>

                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label asp-for="AssetName" class="control-label">Listing Header Line 1 : </label>
                                                            </div>
                                                            <div class="col-8">
                                                                @Model.AssetName
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label asp-for="PropertyHeaderLine2" class="control-label">Listing Header Line 2 : </label>
                                                            </div>
                                                            <div class="col-8">
                                                                @Model.PropertyHeaderLine2
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">

                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label asp-for="NetleaseAssetName" class="control-label">Asset Name : </label>
                                                            </div>
                                                            <div class="col-8">
                                                                @Model.NetleaseAssetName
                                                            </div>
                                                        </div>

                                                    </div>

                                                    <div class="form-group">

                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label for="selState" class="control-label">Address : </label>
                                                            </div>
                                                            <div class="col-8">
                                                                @Model.Address
                                                            </div>
                                                        </div>

                                                    </div>



                                                    <div class="form-group">

                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label asp-for="City" class="control-label">City * : </label>
                                                            </div>
                                                            <div class="col-8">
                                                                @Model.City
                                                            </div>
                                                        </div>

                                                    </div>

                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label for="selState" class="control-label">State : </label>
                                                            </div>
                                                            <div class="col-8">
                                                                @Model.StateName
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label class="control-label">Region Name : </label>
                                                            </div>
                                                            <div class="col-8">
                                                                @Model.RegionName
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">

                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label asp-for="ZipCode" class="control-label">ZIP Code : </label>
                                                            </div>
                                                            <div class="col-8">
                                                                @Model.ZipCode
                                                            </div>
                                                        </div>

                                                    </div>


                                                    @{
                                                        if (Model.AssetTypeId != 1)
                                                        {
                                                            <div class="form-group">

                                                                <div class="row">
                                                                    <div class="col-4">
                                                                        <label asp-for="PropertyPrice" class="control-label">Asking Price : </label>


                                                                    </div>
                                                                    <div class="col-8">
                                                                        @Model.PropertyPrice
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        }
                                                    }

                                                    @{
                                                        if (Model.AssetTypeId != 1)
                                                        {
                                                            <div class="form-group">

                                                                <div class="row">
                                                                    <div class="col-4">
                                                                        <label asp-for="CapRate" class="control-label">Cap Rate : </label>
                                                                    </div>
                                                                    <div class="col-8">
                                                                        @Model.CapRate
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        }
                                                    }


                                                    <div class="form-group">

                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label asp-for="CreatedDate" class="control-label">Created Date : </label>
                                                            </div>
                                                            <div class="col-8">
                                                                @Model.CreatedDate.ToString("MM/dd/yyyy")
                                                            </div>
                                                        </div>

                                                    </div>


                                                    <div class="form-group">

                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label asp-for="AssetTypeId" class="control-label">Asset Type : </label>
                                                            </div>
                                                            <div class="col-8">
                                                                @Model.AssetTypeName
                                                            </div>
                                                        </div>

                                                    </div>



                                                    <div class="form-group">

                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label asp-for="Term" class="control-label">Term : </label>
                                                            </div>
                                                            <div class="col-8">
                                                                @Model.Term
                                                            </div>
                                                        </div>

                                                    </div>


                                                    <div class="form-group">

                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label for="UploadedPdf" class="control-label">View Brochure : </label>
                                                            </div>
                                                            @{
                                                                if (Model.PdfFileName.Trim().Length > 0)
                                                                {
                                                                    <div class="col-8">
                                                                        <a target="_blank" href="@Url.Content("~/" +Model.PdfFileName)" id="UploadedPdf" name="UploadedPdf"> Download File @Model.PdfFileName.Trim().Length </a>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div class="col-8">
                                                                        No file uploaded
                                                                    </div>
                                                                }
                                                            }

                                                        </div>


                                                    </div>


                                                    <div class="form-group">

                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label asp-for="Term" class="control-label">Is A Shopping Center? : </label>
                                                            </div>
                                                            <div class="col-8">
                                                                @if (Model.IsShoppingCenter)
                                                                {
                                                                    <div>Yes</div>
                                                                }
                                                                else
                                                                {
                                                                    <div>No</div>
                                                                }
                                                            </div>
                                                        </div>

                                                    </div>

                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label asp-for="SelectedPropertyStatus" class="control-label">Status : </label>
                                                            </div>
                                                            <div class="col-8">
                                                                @Model.SelectedPropertyStatus
                                                            </div>
                                                        </div>
                                                    </div>

                                                    @{
                                                        var dtStatusChangedDate = Model.StatusChangedDate.Value.ToString("MM-dd-yyyy");
                                                    }
                                                    <div class="form-group" style="@hideStatusDateSection">

                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label class="control-label">@dateStatusText : </label>
                                                            </div>
                                                            <div class="col-8">
                                                                @dtStatusChangedDate

                                                            </div>

                                                        </div>

                                                    </div>


                                                    <div class="form-group">
                                                        <div class="row">
                                                            <div class="col-4">
                                                                <label asp-for="Details" class="control-label">Details</label>
                                                            </div>
                                                            <div class="col-8">
                                                                @Model.Details
                                                            </div>
                                                        </div>
                                                    </div>


                                                </div>
                                                    <!-- /.card-body -->
                                                </div>








                                            </div>

                                        <div class="col-6">

                                            <!-- Input addon -->
                                            <div class="card card-info">
                                                <div class="card-header @sams.Common.Helper.PrimaryColor">
                                                    <h3 class="card-title">Images</h3>
                                                </div>
                                                <div class="card-body">


                                                    <div class="row">
                                                        @foreach (var imgItem in Model.ImageList)
                                                        {
                                                            <div id="image-container">
                                                                @if (@Model.SelectedPropertyStatusId != 3)
                                                                    @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                                    {
                                                                        <button id="x" onclick="removeImage(@imgItem.ImageId, @Model.NetleasePropertyId)">
                                                                            X
                                                                        </button>
                                                                    }

                                                                    <a href="@Url.Content("~/" +imgItem.ImageName)" target="_blank">
                                                                        <img src="@Url.Content("~/" +imgItem.ImageName)" style="width:100px;" />
                                                                    </a>
                                                                </div>
                                                                <!-- <div class="col-lg-6"> -->

                                                                <!-- </div> -->
                                                            }

                                                    </div>

                                                    <form id="frmImage" name="frmImage" method="post" enctype="multipart/form-data" action="@Url.Action("UploadImage", "NetLeaseProperties")">

                                                        <div class="form-group">
                                                            <input type="file" name="UploadedImage" id="UploadedImage" accept="image/x-png,image/gif,image/jpeg" onchange="postImage()" style="visibility:hidden;" />
                                                            <input type="hidden" id="ImageId" name="ImageId" value="0" />
                                                            <input type="hidden" id="PropertyType" name="PropertyType" value="2" />
                                                            <input type="hidden" id="PropertyId" name="PropertyId" value="@Model.NetleasePropertyId" />

                                                            @if (@Model.SelectedPropertyStatusId != 3)
                                                                @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                                {
                                                                    <a href="javascript:selectImage()" class="btn btn-sm btn-warning">Add Image</a>
                                                                }

                                                            </div>




                                                        </form>
                                                        <!-- /input-group -->
                                                    </div>
                                                    <!-- /.card-body -->
                                                </div>
                                                <!-- /.card -->




                                                <div class="card card-info ">
                                                    <div class="card-header @sams.Common.Helper.PrimaryColor">
                                                        <div class="row">
                                                            <div class="col-12">
                                                                <div class="icheck-success d-inline">
                                                                    <input type="checkbox" name="ddpExtensionNotApplicable" id="radioIsPropertyListed" onchange="checkClientRepresentation(this.value)" @isBroker disabled>
                                                                    <label for="radioIsPropertyListed">
                                                                        Check If Property Listed
                                                                    </label>
                                                                    <input type="hidden" asp-for="CheckIfPropertyListed" class="form-control" />
                                                                </div>

                                                            </div>

                                                        </div>

                                                    </div>
                                                    <div class="card-body" id="divClientPropertyListed" @hideDiv>




                                                        <div class="form-group">
                                                            <div class="row">
                                                                <div class="col-4">
                                                                    <label asp-for="AssetId" class="control-label">Listing Agent Name : </label>
                                                                </div>
                                                                <div class="col-8">
                                                                    @Model.ListingAgentName
                                                                </div>
                                                            </div>

                                                        </div>

                                                        <div class="form-group">
                                                            <div class="row">
                                                                <div class="col-4">
                                                                    <label asp-for="ListingExpiry" class="control-label">Listing Expires : </label>
                                                                </div>
                                                                <div class="col-8">
                                                                    @Model.ListingExpiry
                                                                </div>
                                                            </div>

                                                        </div>

                                                        <div class="form-group">
                                                            <div class="row">
                                                                <div class="col-4">
                                                                    <label asp-for="ListingPrice" class="control-label">Listing Price : </label>
                                                                </div>
                                                                <div class="col-8">
                                                                    @Model.ListingPrice
                                                                </div>
                                                            </div>
                                                        </div>






                                                    </div>
                                                    <!-- /.card-body -->
                                                </div>

                                                @{
                                                    if (!Model.IsShoppingCenter)
                                                    {
                                                        <div class="card card-info">
                                                            <div class="card-header @sams.Common.Helper.PrimaryColor">
                                                                <h3 class="card-title">
                                                                    Confidential Data
                                                                </h3>
                                                            </div>
                                                            <div class="card-body">

                                                                <div class="row">

                                                                    <div class="col-lg-12">

                                                                        <ul class="list-unstyled">
                                                                            @{
                                                                                var haveFile = false;
                                                                            }
                                                                            @foreach (var pdfItem in Model.NDAComplaintsFilesList)
                                                                            {
                                                                                haveFile = true;
                                                                                <li>
                                                                                    <div class="row">
                                                                                        <div class="col-lg-8">
                                                                                            @pdfItem.FileType
                                                                                            <hr />

                                                                                        </div>
                                                                                        <div class="col-lg-4">
                                                                                            @if (@Model.SelectedPropertyStatusId != 3)
                                                                                                @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 4).CanEdit)
                                                                                                {
                                                                                                    <button type="button" class="btn btn-xs btn-danger" onclick="removeConfidentialFile(@pdfItem.FileId, @Model.NetleasePropertyId)">
                                                                                                        Delete File
                                                                                                    </button>
                                                                                                }

                                                                                            </div>


                                                                                            <div class="col-lg-12">
                                                                                                <a href="@Url.Content("~/" + pdfItem.FileName)" class="btn-link text-secondary" target="_blank">
                                                                                                    <i class="far fa-fw fa-file-word"></i>@pdfItem.FileNameWithoutPath
                                                                                                </a>
                                                                                            </div>

                                                                                        </div>
                                                                                        <hr />
                                                                                    </li>
                                                                                }

                                                                        </ul>

                                                                    </div>


                                                                </div>
                                                                @if (@Model.SelectedPropertyStatusId != 3)
                                                                    @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 4).CanEdit)
                                                                    {
                                                                        if (haveFile)
                                                                        {
                                                                            <button type="button" class="btn btn-sm btn-warning" data-toggle="modal" data-target="#modal-confidential-file">
                                                                                Upload Another File
                                                                            </button>
                                                                        }
                                                                        else
                                                                        {
                                                                            <button type="button" class="btn btn-sm btn-warning" data-toggle="modal" data-target="#modal-confidential-file">
                                                                                Upload File
                                                                            </button>
                                                                        }

                                                                    }



                                                                </div>
                                                                <!-- /.card-body -->
                                                            </div>
                                                        }
                                                }





                                                <div class="card card-info">
                                                    <div class="card-header @sams.Common.Helper.PrimaryColor">
                                                        <h3 class="card-title">Files to share with Customer (Plats or other pdf)</h3>
                                                    </div>
                                                    <div class="card-body">
                                                        <div class="row">

                                                            <div class="col-lg-12">

                                                                <ul class="list-unstyled">
                                                                    @foreach (var pdfItem in Model.AdditionalFilesList)
                                                                    {
                                                                        <li>
                                                                            <div class="row">
                                                                                <div class="col-lg-8">
                                                                                    @pdfItem.FileType
                                                                                    <hr />

                                                                                </div>
                                                                                <div class="col-lg-4">

                                                                                    @if (@Model.SelectedPropertyStatusId != 3)
                                                                                        @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                                                        {
                                                                                            <button type="button" class="btn btn-xs btn-danger" onclick="removeFile(@pdfItem.FileId, @Model.NetleasePropertyId)">
                                                                                                Delete File
                                                                                            </button>
                                                                                        }

                                                                                    </div>


                                                                                    <div class="col-lg-12">
                                                                                        <a href="@Url.Content("~/" + pdfItem.FileName)" class="btn-link text-secondary" target="_blank">
                                                                                            <i class="far fa-fw fa-file-word"></i>@pdfItem.FileNameWithoutPath
                                                                                        </a>
                                                                                    </div>

                                                                                </div>
                                                                                <hr />
                                                                            </li>
                                                                        }

                                                                </ul>

                                                            </div>


                                                        </div>

                                                        @if (@Model.SelectedPropertyStatusId != 3)
                                                            @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                            {
                                                                <button type="button" class="btn btn-sm btn-warning" data-toggle="modal" data-target="#modal-default">
                                                                    Upload File
                                                                </button>
                                                            }


                                                        </div>
                                                        <!-- /.card-body -->
                                                    </div>


                                                    <div class="card card-info">
                                                        <div class="card-header @sams.Common.Helper.PrimaryColor">
                                                            <div class="row">
                                                                <div class="col-10">
                                                                    <h3 class="card-title">To-Do List</h3>
                                                                </div>
                                                                <div class="col-2">
                                                                    @if (@Model.SelectedPropertyStatusId != 3)
                                                                    {
                                                                        <button type="button" class="btn btn-xs btn-warning" data-toggle="modal" data-target="#modal-new-todo">
                                                                            Add New
                                                                        </button>
                                                                    }

                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="card-body">




                                                            <div class="form-group">

                                                                <dl>
                                                                    @foreach (var item in Model.TodoList)
                                                                    {
                                                                        <dt>@item.CreatedDate.ToString("MM-dd-yyyy")</dt>
                                                                        <dd>@item.TodoText</dd>

                                                                        <dd>
                                                                            <b>Created By : </b>  @item.CreatedUserName
                                                                        </dd>

                                                                        @if (item.UpdatedById != null && item.UpdatedById > 0 && item.UpdatedById != item.CreatedById)
                                                                        {
                                                                            <dd>
                                                                                <b>Completed By : </b>  @item.UpdatedUserName <b> On : </b> @item.UpdatedDate.ToString("MM-dd-yyyy")
                                                                            </dd>
                                                                        }

                                                                        <dd>

                                                                            @{
                                                                                if (item.CompletedStatus == 1)
                                                                                {
                                                                                    <input type="button" id="btnUpdateStatus" value="Completed" class="btn btn-dark" />
                                                                                    if (loggedInUser.RolePermission.SamsRole.RoleName == "Admin")
                                                                                    {
                                                                                        <input type="button" id="btnDeleteTodo" value="Delete" class="btn btn-danger" onclick="deleteTodo(@item.TodoId);" />
                                                                                    }
                                                                                }
                                                                                else
                                                                                {
                                                                                    <input type="button" id="btnUpdateStatus" value="Mark As Completed" class="btn btn-primary" onclick="markCompleteStatus(@item.TodoId);" />
                                                                                }

                                                                            }

                                                                        </dd>
                                                                    }


                                                                </dl>

                                                            </div>




                                                        </div>
                                                        <!-- /.card-body -->
                                                    </div>





                                                </div>

                                                    </div>




                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <div class="form-group">


                                                            </div>
                                                            <div class="form-group">
                                                                @if (@Model.SelectedPropertyStatusId != 3)
                                                                    @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                                    {
                                                                        <input type="button" id="btnSave" value="Edit" class="btn btn-primary" onclick="editDetails(@Model.NetleasePropertyId);" />
                                                                    }


                                                                    <!--
                                                                    <input type="button" id="btnList" value="Mark As Sold Out" class="btn btn-info" onclick="markAsSoldOut(@Model.NetleasePropertyId);" />

                                                                    -->
                                                                    <input type="button" id="btnList" value="View List" class="btn btn-success" onclick="viewList('@Model.IsShoppingCenter');" />



                                                                </div>
                                                            </div>

                                                        </div>


                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <div class="form-group">


                                                                </div>
                                                                <div class="form-group">
                                                                    @if (@Model.SelectedPropertyStatusId != 3)
                                                                        @if (loggedInUser.RolePermission.SamsRole.CanPublishListings)
                                                                        {
                                                                            var sl = 1;
                                                                            if (Model.ShowInListing)
                                                                            {
                                                                                sl = 0;

                                                                            }
                                                                            <input type="button" id="btnPublish" value="@showListingText" class="btn btn-primary bg-purple" onclick="publishData(@Model.NetleasePropertyId, @sl);" />

                                                                        }

                                                                    </div>
                                                                </div>

                                                            </div>





                                                            <!-- /.card -->
                                                        </div>
                                                    </div>


                                                    @if (Model.NetleasePropertyId > 0)
                                                    {
                                                        <hr />
                                                        <div class="row">
                                                            <div class="col-8 col-sm-6">
                                                                <h1>Transaction Management</h1>
                                                            </div>
                                                            <div class="col-8 col-sm-6">


                                                            </div>
                                                        </div>
                                                        <hr />

                                                        <div class="row">
                                                            <div class="col-12 col-sm-12">



                                                                <script>
                                            function markAcquisition() {
                                                $("#divAcquisitions").show();
                                                $("#divDispositions").hide();
                                                $("#divLease").hide();

                                                $("#divTblDisposition").hide();
                                                $("#divTblLease").hide();
                                                $("#periodType").val("Acquisition");
                                            }

                                            function markDispositions() {
                                                $("#divAcquisitions").hide();
                                                $("#divDispositions").show();
                                                $("#divLease").hide();
                                                $("#divFutureTenantMatrix").hide();
                                                $("#divTenantRentAndCamMatrix").hide();

                                                $("#divTblDisposition").show();
                                                $("#divTblLease").hide();
                                                $("#periodType").val("Disposition");
                                            }

                                            function markLease() {
                                                $("#divAcquisitions").hide();
                                                $("#divDispositions").hide();
                                                //$("#divLease").show();
                                                //$("#divLease").hide();
                                                $("#divFutureTenantMatrix").show();
                                                $("#divTenantRentAndCamMatrix").show();

                                                $("#divTblDisposition").hide();
                                                $("#divTblLease").show();
                                                //$("#divTblLease").hide();
                                                $("#periodType").val("Lease");
                                            }

                                            function saveDiligenceAcquire() {
                                                $("#SaveDiligenceAcquisition").submit();
                                            }

                                            function saveDiligenceDispositions() {
                                                $("#SaveDiligenceDispositions").submit();
                                            }

                                            function closeDisposition(diligenceDispositionsId, propertyId) {
                                                if (confirm("Dou you want to Close?")) {
                                                    location.href = "CloseDisposition/?diligenceDispositionsId=" + diligenceDispositionsId + "&propertyId=" + propertyId;
                                                }
                                            }

                                            function terminateDisposition(diligenceDispositionsId, propertyId) {
                                                if (confirm("Dou you want to Terminate?")) {
                                                    location.href = "TerminateDisposition/?diligenceDispositionsId=" + diligenceDispositionsId + "&propertyId=" + propertyId;
                                                }
                                            }

                                            function closeAcquisition(diligenceAcquisitionId, propertyId) {
                                                if (confirm("Dou you want to Close?")) {
                                                    location.href = "CloseAcquisition/?diligenceAcquisitionId=" + diligenceAcquisitionId + "&propertyId=" + propertyId;
                                                }
                                            }

                                            function terminateAcquisition(diligenceAcquisitionId, propertyId) {
                                                if (confirm("Dou you want to Terminate?")) {
                                                    location.href = "TerminateAcquisition/?diligenceAcquisitionId=" + diligenceAcquisitionId + "&propertyId=" + propertyId;
                                                }
                                            }

                                            function saveDiligenceLease() {
                                                $("#SaveDiligenceLease").submit();
                                            }

                                            function editPeriod(periodId, periodMaster, startDate, duration, periodNotes) {
                                                $("#p_PeriodId").val(periodId);
                                                $("#p_PropertyId").val(@Model.NetleasePropertyId);
                                                $("#p_PeriodMaster").val(periodMaster);
                                                $("#p_StartDate").val(startDate);
                                                $("#txtDuration").val(duration);
                                                $("#p_PeriodNotes").val(periodNotes);

                                                $('#modal-new-period').modal('show');

                                            }

                                            function deletePeriod(periodId, propertyId) {
                                                if (confirm("Confirm Delete?")) {
                                                    window.location.href = '@Url.Action("DeletePeriod", "NetLeaseProperties")?periodId=' + periodId + '&propertyId=' + propertyId;
                                                }

                                            }

                                        function viewDiligenceDispositionItem(diligenceDispositionsId, currentAssetStatusId) {
                                            var baseUrl = "@Url.Action("GetDiligenceDispositionById", "NetLeaseProperties")/?diligenceDispositionId=" + diligenceDispositionsId + "&propertyId=@Model.NetleasePropertyId" + "&currentAssetStatusId=" + currentAssetStatusId;
                                            location.href = baseUrl;
                                        }

                                        function viewCriticalItems(diligenceDispositionsId, propertyId) {

                                            var baseUrl = "@Url.Action("GetDispositionCriticalItems", "NetLeaseProperties")/?diligenceDispositionsId=" + diligenceDispositionsId + "&propertyId=" + propertyId;
                                            location.href = baseUrl;
                                        }

                                        function viewDiligenceLeaseItem(diligencLeaseId, currentAssetStatusId) {
                                            var baseUrl = "@Url.Action("GetDiligenceLeaseById", "NetLeaseProperties")/?diligenceLeaseId=" + diligencLeaseId + "&propertyId=@Model.NetleasePropertyId" + "&currentAssetStatusId=" + currentAssetStatusId + "&assetTypeId=" + @Model.AssetTypeId;
                                            location.href = baseUrl;
                                        }

                                        function deleteTodo(todoId) {
                                            if (confirm("Confirm Delete?")) {
                                                window.location.href = '@Url.Action("DeleteTodo", "NetLeaseProperties")?todoId=' + todoId + '&propertyId=' + @Model.NetleasePropertyId;
                                            }
                                        }

                                        function markCompleteStatus(todoId) {
                                            if (confirm("Completed?")) {
                                                window.location.href = '@Url.Action("Todo_MarkAsCompleted", "NetLeaseProperties")?todoId=' + todoId + '&propertyId=' + @Model.NetleasePropertyId;
                                            }
                                        }
                                                                </script>

                                                                <div class="col-sm-8">
                                                                    <!-- radio -->
                                                                    <div class="form-group clearfix">

                                                                        <!--
                                                                        <div class="icheck-success d-inline">
                                                                            <input type="radio" name="r3" checked id="radioAcquisition" @rbtnAcquisition onclick="markAcquisition()">
                                                                            <label for="radioAcquisition">
                                                                                Acquisition
                                                                            </label>
                                                                        </div>
                                                                        -->
                                                                        @{
                                                                            if (Model.AssetTypeId == (int)SamAssetType.Fee)
                                                                            {
                                                                                <div class="icheck-success d-inline">
                                                                                    <input type="radio" name="r3" id="radioDispositions" checked>
                                                                                    <label for="radioDispositions">
                                                                                        Sale
                                                                                    </label>
                                                                                </div>
                                                                            }
                                                                            else if (Model.AssetTypeId == (int)SamAssetType.SaleLeaseBack)
                                                                            {
                                                                                <div class="icheck-success d-inline">
                                                                                    <input type="radio" name="r3" id="radioDispositions" checked>
                                                                                    <label for="radioDispositions">
                                                                                        Sale/ Leaseback
                                                                                    </label>
                                                                                </div>
                                                                            }
                                                                            else if (Model.AssetTypeId == (int)SamAssetType.Lease)
                                                                            {
                                                                                <div class="icheck-success d-inline">
                                                                                    <input type="radio" name="r3" id="radioLease" checked>
                                                                                    <label for="radioLease">
                                                                                        Lease
                                                                                    </label>
                                                                                </div>
                                                                            }
                                                                            else if (Model.AssetTypeId == (int)SamAssetType.NetLease)
                                                                            {
                                                                                <div class="icheck-success d-inline">
                                                                                    <input type="radio" name="r3" id="radioLease" checked>
                                                                                    <label for="radioLease">
                                                                                        Net Lease
                                                                                    </label>
                                                                                </div>
                                                                            }
                                                                            else if (Model.AssetTypeId == (int)SamAssetType.LeaseWithPurchaseOption)
                                                                            {
                                                                                <div class="icheck-success d-inline">
                                                                                    <input type="radio" name="r3" id="radioLease" checked>
                                                                                    <label for="radioLease">
                                                                                        Lease With Purchase Option
                                                                                    </label>
                                                                                </div>
                                                                            }
                                                                        }




                                                                    </div>
                                                                </div>





                                                                <div class="row">



                                                                    @{
                                                                        if (Model.AssetTypeId == (int)SamAssetType.Fee)
                                                                        {

                                                                            <div class="col-12 col-sm-12" id="divTblDisposition">

                                                                                <div class="card card-info ">
                                                                                    <div class="card-header @sams.Common.Helper.PrimaryColor">
                                                                                        <div class="row">
                                                                                            <div class="col-10">
                                                                                                <h3 class="card-title">Sale Details </h3>
                                                                                            </div>
                                                                                            <div class="col-2">
                                                                                                @if (@Model.SelectedPropertyStatusId != 3 && @Model.SelectedPropertyStatusId != 4 )
                                                                                                {
                                                                                                    @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 2).CanEdit)
                                                                                                    {
                                                                                                        @if (@Model.CanAddTransactions)
                                                                                                        {
                                                                                                            <button type="button" class="btn btn-xs btn-warning" onclick="viewDiligenceDispositionItem(0, @Model.MaxPriorityTransactionStatusId)">
                                                                                                                Add New
                                                                                                            </button>
                                                                                                        }

                                                                                                    }
                                                                                                }


                                                                                            </div>
                                                                                        </div>

                                                                                    </div>
                                                                                    <div class="card-body">



                                                                                        <table id="example1_" class="table table-sm text-sm">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th>Transaction #</th>
                                                                                                    <th>Selling Price</th>
                                                                                                    <th>Under Contract Date</th>
                                                                                                    <th>Buyer</th>

                                                                                                    <th>Earnest Money Deposit</th>
                                                                                                    <th>Escrow Agent</th>

                                                                                                    <th>Status</th>
                                                                                                    <th>Status Change Date</th>

                                                                                                    <th></th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                            <tbody>

                                                                                                @foreach (var item in Model.DiligenceDispositionList)
                                                                                                {
                                                                                                    var dtUnderContractDateDisp = item.UnderContractDate == default(DateTime?) ? "" : item.UnderContractDate.Value.ToString("MM-dd-yyyy");

                                                                                                    var dtDispositionClosedDate = item.DispositionClosedDate == default(DateTime?) ? "" : item.DispositionClosedDate.Value.ToString("MM-dd-yyyy");
                                                                                                    var dtDispositionTerminatedDate = item.DispositionTerminatedDate == default(DateTime?) ? "" : item.DispositionTerminatedDate.Value.ToString("MM-dd-yyyy");
                                                                                                    var dtSelectedTransactionDate = item.SelectedTransactionDate == default(DateTime?) ? "" : item.SelectedTransactionDate.Value.ToString("MM-dd-yyyy");

                                                                                                    var diligenceClosedStatus = "";
                                                                                                    var diligenceTerminatedStatus = "";

                                                                                                    if (item.DispositionTerminatedStatus == 1)
                                                                                                    {
                                                                                                        diligenceTerminatedStatus = "checked";
                                                                                                    }


                                                                                                    if (item.DispositionClosedStatus == 1)
                                                                                                    {
                                                                                                        diligenceClosedStatus = "checked";
                                                                                                    }

                                                                                                    <tr>
                                                                                                        <td>@item.DiligenceDispositionsId</td>
                                                                                                        <td>@item.SalePrice</td>
                                                                                                        <td>@dtUnderContractDateDisp</td>
                                                                                                        <td>@item.Buyers</td>

                                                                                                        <td>@item.EMD</td>
                                                                                                        <td>@item.EscrowAgent</td>

                                                                                                        <td>@item.SelectedTransactionStatusName</td>
                                                                                                        <td>@dtSelectedTransactionDate</td>

                                                                                                        <td>
                                                                                                            <!--
                                                                                                            <div class="btn-group btn-group-sm">
                                                                                                                <input type="button" value="Edit" class="btn btn-primary" onclick="viewDiligenceDispositionItem(@item.DiligenceDispositionsId, @Model.MaxPriorityTransactionStatusId);" />
                                                                                                                <input type="button" value="Critical Items" class="btn btn-success" onclick="viewCriticalItems(@item.DiligenceDispositionsId, @Model.NetleasePropertyId);" />
                                                                                                            </div>-->

                                                                                                            @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 2).CanEdit)
                                                                                                            {

                                                                                                                if (item.SelectedTransactionStatusId == (int)SamsTransactionStatus.Terminated_Dispositions)
                                                                                                                {
                                                                                                                    <input type="button" value="Terminated. Please Click To View " class="btn btn-danger" onclick="viewDiligenceDispositionItem(@item.DiligenceDispositionsId, @Model.MaxPriorityTransactionStatusId);" />
                                                                                                                }
                                                                                                                else if (item.SelectedTransactionStatusId == (int)SamsTransactionStatus.Closed_Dispositions)
                                                                                                                {
                                                                                                                    <input type="button" value="Closed. Please Click To View " class="btn btn-success" onclick="viewDiligenceDispositionItem(@item.DiligenceDispositionsId, @Model.MaxPriorityTransactionStatusId);" />
                                                                                                                    if (loggedInUser.RolePermission.SamsRole.RoleName == "Admin")
                                                                                                                    {
                                                                                                                        <input type="button" value="Reset Transaction" class="btn btn-danger" onclick="resetClosedSaleTransaction(@item.DiligenceDispositionsId);" />
                                                                                                                    }
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                    <div class="btn-group btn-group-sm">
                                                                                                                        <input type="button" value="Edit" class="btn btn-primary" onclick="viewDiligenceDispositionItem(@item.DiligenceDispositionsId, @Model.MaxPriorityTransactionStatusId);" />
                                                                                                                        <!--
                                                                                                                        <input type="button" value="Critical Items" class="btn btn-success" onclick="viewCriticalItems(@item.DiligenceDispositionsId, @Model.NetleasePropertyId);" />
                                                                                                                        -->
                                                                                                                    </div>
                                                                                                                }
                                                                                                                if (loggedInUser.RolePermission.SamsRole.RoleName == "Admin")
                                                                                                                {
                                                                                                                    <input type="button" value="Delete" class="btn btn-danger" onclick="deleteSaleTransaction(@item.DiligenceDispositionsId);" />
                                                                                                                }

                                                                                                            }

                                                                                                        </td>
                                                                                                    </tr>
                                                                                                }

                                                                                            </tbody>
                                                                                        </table>






                                                                                    </div>
                                                                                    <!-- /.card-body -->
                                                                                </div>

                                                                            </div>
                                                                        }

                                                                        if (Model.AssetTypeId == (int)SamAssetType.SaleLeaseBack)
                                                                        {

                                                                            <div class="col-12 col-sm-12" id="divTblSaleLeaseBack">




                                                                                <div class="card card-info ">
                                                                                    <div class="card-header @sams.Common.Helper.PrimaryColor">
                                                                                        <div class="row">
                                                                                            <div class="col-10">
                                                                                                <h3 class="card-title">Sale/ Leaseback</h3>
                                                                                            </div>
                                                                                            <div class="col-2">
                                                                                                @if (@Model.SelectedPropertyStatusId != 3 && @Model.SelectedPropertyStatusId != 4 )
                                                                                                {
                                                                                                    @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 2).CanEdit)
                                                                                                    {
                                                                                                        @if (@Model.CanAddTransactions)
                                                                                                        {
                                                                                                            <button type="button" class="btn btn-xs btn-warning" onclick="viewSaleLeaseBackItem(0, @Model.MaxPriorityTransactionStatusId)">
                                                                                                                Add New
                                                                                                            </button>
                                                                                                        }
                                                                                                    }
                                                                                                }


                                                                                            </div>
                                                                                        </div>

                                                                                    </div>
                                                                                    <div class="card-body">



                                                                                        <table id="example1_" class="table table-sm text-sm">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th>Transaction #</th>
                                                                                                    <th>Selling Price</th>
                                                                                                    <th>Under Contract Date</th>
                                                                                                    <th>Buyer</th>

                                                                                                    <th>Earnest Money Deposit</th>
                                                                                                    <th>Escrow Agent</th>

                                                                                                    <th>Status</th>
                                                                                                    <th>Status Change Date</th>


                                                                                                    <th></th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                            <tbody>

                                                                                                @foreach (var item in Model.DiligenceDispositions_SaleLeaseBack)
                                                                                                {
                                                                                                    var dtUnderContractDateDisp = item.UnderContractDate == default(DateTime?) ? "" : item.UnderContractDate.Value.ToString("MM-dd-yyyy");

                                                                                                    var dtDispositionClosedDate = item.DispositionClosedDate == default(DateTime?) ? "" : item.DispositionClosedDate.Value.ToString("MM-dd-yyyy");
                                                                                                    var dtDispositionTerminatedDate = item.DispositionTerminatedDate == default(DateTime?) ? "" : item.DispositionTerminatedDate.Value.ToString("MM-dd-yyyy");

                                                                                                    var diligenceClosedStatus = "";
                                                                                                    var diligenceTerminatedStatus = "";

                                                                                                    if (item.DispositionTerminatedStatus == 1)
                                                                                                    {
                                                                                                        diligenceTerminatedStatus = "checked";
                                                                                                    }



                                                                                                    if (item.DispositionClosedStatus == 1)
                                                                                                    {
                                                                                                        diligenceClosedStatus = "checked";
                                                                                                    }


                                                                                                    <tr>
                                                                                                        <td>@item.DiligenceDispositionsId</td>
                                                                                                        <td>@item.SalePrice</td>
                                                                                                        <td>@dtUnderContractDateDisp</td>
                                                                                                        <td>@item.Buyers</td>

                                                                                                        <td>@item.EMD</td>
                                                                                                        <td>@item.EscrowAgent</td>

                                                                                                        <td>@item.SelectedTransactionStatusName</td>
                                                                                                        <td>@item.SelectedTransactionDate.Value.ToString("MM-dd-yyyy")</td>


                                                                                                        <td>

                                                                                                            @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 2).CanEdit)
                                                                                                            {





                                                                                                                if (item.SelectedTransactionStatusId == (int)SamsTransactionStatus.Terminated_Dispositions)
                                                                                                                {
                                                                                                                    <input type="button" value="Terminated. Please Click To View " class="btn btn-danger" onclick="viewSaleLeaseBackItem(@item.DiligenceDispositionsId, @Model.MaxPriorityTransactionStatusId);" />
                                                                                                                }
                                                                                                                else if (item.SelectedTransactionStatusId == (int)SamsTransactionStatus.Closed_Dispositions)
                                                                                                                {
                                                                                                                    <input type="button" value="Closed. Please Click To View " class="btn btn-success" onclick="viewSaleLeaseBackItem(@item.DiligenceDispositionsId, @Model.MaxPriorityTransactionStatusId);" />
                                                                                                                    if (loggedInUser.RolePermission.SamsRole.RoleName == "Admin")
                                                                                                                    {
                                                                                                                        <input type="button" value="Reset Transaction" class="btn btn-danger" onclick="resetClosedSaleLeaseBackTransaction(@item.DiligenceDispositionsId);" />
                                                                                                                    }
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                    <div class="btn-group btn-group-sm">
                                                                                                                        <input type="button" value="Edit" class="btn btn-primary" onclick="viewSaleLeaseBackItem(@item.DiligenceDispositionsId, @Model.MaxPriorityTransactionStatusId);" />

                                                                                                                    </div>
                                                                                                                }

                                                                                                                if (loggedInUser.RolePermission.SamsRole.RoleName == "Admin")
                                                                                                                {
                                                                                                                    <input type="button" value="Delete" class="btn btn-danger" onclick="deleteSaleLeaseBackTransaction(@item.DiligenceDispositionsId);" />
                                                                                                                }

                                                                                                            }


                                                                                                        </td>
                                                                                                    </tr>
                                                                                                }

                                                                                            </tbody>
                                                                                        </table>






                                                                                    </div>
                                                                                    <!-- /.card-body -->
                                                                                </div>

                                                                            </div>

                                                                        }

                                                                        if (Model.AssetTypeId == (int)SamAssetType.Lease)
                                                                        {

                                                                            if (Model.IsShoppingCenter)
                                                                            {
                                                                                <div class="col-12 col-sm-12">
                                                                                    <div class="card card-info" id="divFutureTenantMatrix">
                                                                                        <div class="card-header @sams.Common.Helper.PrimaryColor">
                                                                                            <h3 class="card-title">Future Tenant Matrix</h3>
                                                                                        </div>
                                                                                        <div class="card-body">

                                                                                            <div class="row">

                                                                                                <div class="col-lg-12">




                                                                                                    <table id="example1" class="table table-sm text-sm">
                                                                                                        <thead>
                                                                                                            <tr>
                                                                                                                <th>Tenant Name</th>
                                                                                                                <th>Unit #</th>
                                                                                                                <th>Term</th>
                                                                                                                <th>Rent</th>

                                                                                                                <th>CAM</th>
                                                                                                                <th>Under Contract Date</th>
                                                                                                                <th>DDP</th>
                                                                                                                <th>Action</th>
                                                                                                            </tr>
                                                                                                        </thead>
                                                                                                        <tbody>

                                                                                                            @foreach (var clientItem in Model.FutureTenantList)
                                                                                                            {
                                                                                                                <tr>
                                                                                                                    <td>@clientItem.Tenant</td>
                                                                                                                    <td>@clientItem.Unit</td>
                                                                                                                    <td>@clientItem.Term</td>
                                                                                                                    <td>@clientItem.Rent</td>
                                                                                                                    <td>@clientItem.CAM</td>
                                                                                                                    <td>@clientItem.UnderContractDate</td>
                                                                                                                    <td>@clientItem.DDP</td>

                                                                                                                    <td>
                                                                                                                        @if (@Model.SelectedPropertyStatusId != 3)
                                                                                                                            @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                                                                                            {

                                                                                                                                <button type="button" class="btn btn-info" onclick="manageFutureTenantLease(@clientItem.FutureTenantId, @Model.NetleasePropertyId)">
                                                                                                                                    Edit
                                                                                                                                </button>
                                                                                                                                <button type="button" class="btn btn-danger" style="margin-top:3px;" onclick="removeFutureTenant(@clientItem.FutureTenantId, @Model.NetleasePropertyId)">
                                                                                                                                    Delete
                                                                                                                                </button>
                                                                                                                            }

                                                                                                                        </td>
                                                                                                                    </tr>
                                                                                                                }



                                                                                                        </tbody>

                                                                                                    </table>

                                                                                                    @if (@Model.SelectedPropertyStatusId != 3)
                                                                                                        @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                                                                        {
                                                                                                            <button type="button" class="btn btn-info" onclick="manageFutureTenantLease(0, @Model.NetleasePropertyId)">
                                                                                                                Add New Tenant
                                                                                                            </button>
                                                                                                        }





                                                                                                    </div>


                                                                                                </div>

                                                                                            </div>
                                                                                            <!-- /.card-body -->
                                                                                        </div>
                                                                                    </div>

                                                                                }
                                                                                else
                                                                                {
                                                                                    <div class="col-12 col-sm-12" id="divTblLease">
                                                                                        <div class="card card-info ">
                                                                                            <div class="card-header @sams.Common.Helper.PrimaryColor">
                                                                                                <div class="row">
                                                                                                    <div class="col-10">
                                                                                                        <h3 class="card-title">Disposition Details</h3>
                                                                                                    </div>
                                                                                                    <div class="col-2">
                                                                                                        @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 2).CanEdit)
                                                                                                        {
                                                                                                            <button type="button" class="btn btn-xs btn-warning" onclick="viewDiligenceLeaseItem(0, @Model.MaxPriorityTransactionStatusId)">
                                                                                                                Add New
                                                                                                            </button>
                                                                                                        }
                                                                                                    </div>
                                                                                                </div>

                                                                                            </div>
                                                                                            <div class="card-body">



                                                                                                <table id="example1_" class="table table-sm text-sm">
                                                                                                    <thead>
                                                                                                        <tr>
                                                                                                            <th>Transaction #</th>
                                                                                                            <th>Tenant</th>
                                                                                                            <th>Rent</th>
                                                                                                            <th>Under Contract Date</th>

                                                                                                            <th>DDP Expiration Date</th>
                                                                                                            <th>Earnest Money Deposit</th>
                                                                                                            <th>Tenant Attorney</th>

                                                                                                            <th>Status</th>
                                                                                                            <th>Status Change Date</th>

                                                                                                            <th></th>
                                                                                                        </tr>
                                                                                                    </thead>
                                                                                                    <tbody>

                                                                                                        @foreach (var item in Model.DiligenceLeaseList)
                                                                                                        {
                                                                                                            var dtUnderContractDateLease = item.UnderContractDate == default(DateTime?) ? "" : item.UnderContractDate.Value.ToString("MM-dd-yyyy");
                                                                                                            var dtDueDiligenceExpiryDateLease = item.DueDiligenceExpiryDate == default(DateTime?) ? "" : item.DueDiligenceExpiryDate.Value.ToString("MM-dd-yyyy");

                                                                                                            var dtDispositionClosedDate = item.DispositionClosedDate == default(DateTime?) ? "" : item.DispositionClosedDate.Value.ToString("MM-dd-yyyy");
                                                                                                            var dtDispositionTerminatedDate = item.DispositionTerminatedDate == default(DateTime?) ? "" : item.DispositionTerminatedDate.Value.ToString("MM-dd-yyyy");
                                                                                                            var dtSelectedTransactionDate = item.SelectedTransactionDate == default(DateTime?) ? "" : item.SelectedTransactionDate.Value.ToString("MM-dd-yyyy");

                                                                                                            var diligenceClosedStatus = "";
                                                                                                            var diligenceTerminatedStatus = "";

                                                                                                            if (item.DispositionTerminatedStatus == 1)
                                                                                                            {
                                                                                                                diligenceTerminatedStatus = "checked";
                                                                                                            }


                                                                                                            if (item.DispositionClosedStatus == 1)
                                                                                                            {
                                                                                                                diligenceClosedStatus = "checked";
                                                                                                            }
                                                                                                            <tr>
                                                                                                                <td>@item.DiligenceLeaseId</td>
                                                                                                                <td>@item.Tenant</td>

                                                                                                                <td>@item.Rent</td>
                                                                                                                <td>@dtUnderContractDateLease</td>
                                                                                                                <td>@dtDueDiligenceExpiryDateLease</td>
                                                                                                                <td>@item.EarnestMoneyDeposit</td>
                                                                                                                <td>@item.TenantAttorney</td>

                                                                                                                <td>@item.SelectedTransactionStatusName</td>
                                                                                                                <td>@dtSelectedTransactionDate</td>

                                                                                                                <td>

                                                                                                                    @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 2).CanEdit)
                                                                                                                    {
                                                                                                                        <div class="btn-group btn-group-sm">
                                                                                                                            <input type="button" value="Edit" class="btn btn-primary" onclick="viewDiligenceLeaseItem(@item.DiligenceLeaseId, @Model.MaxPriorityTransactionStatusId);" />

                                                                                                                            @if (loggedInUser.RolePermission.SamsRole.RoleName == "Admin")
                                                                                                                            {
                                                                                                                                <input type="button" value="Delete" class="btn btn-danger" onclick="deleteLeaseTransaction(@item.DiligenceLeaseId);" />
                                                                                                                            }
                                                                                                                        </div>


                                                                                                                    }


                                                                                                                </td>
                                                                                                            </tr>
                                                                                                        }

                                                                                                    </tbody>
                                                                                                </table>

                                                                                            </div>
                                                                                            <!-- /.card-body -->
                                                                                        </div>

                                                                                    </div>
                                                                                }


                                                                            }
                                                                            if (Model.AssetTypeId == (int)SamAssetType.NetLease)
                                                                            {
                                                                                <div class="col-12 col-sm-12" id="divTblLease">
                                                                                    <div class="card card-info ">
                                                                                        <div class="card-header @sams.Common.Helper.PrimaryColor">
                                                                                            <div class="row">
                                                                                                <div class="col-10">
                                                                                                    <h3 class="card-title">Net Lease Details</h3>
                                                                                                </div>
                                                                                                <div class="col-2">
                                                                                                    @if (@Model.SelectedPropertyStatusId != 3 && @Model.SelectedPropertyStatusId != 4 )
                                                                                                    {
                                                                                                        @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 2).CanEdit)
                                                                                                        {
                                                                                                            <button type="button" class="btn btn-xs btn-warning" onclick="viewDiligenceNetleaseItem(0, @Model.MaxPriorityTransactionStatusId)">
                                                                                                                Add New
                                                                                                            </button>
                                                                                                        }
                                                                                                    }


                                                                                                </div>
                                                                                            </div>

                                                                                        </div>
                                                                                        <div class="card-body">



                                                                                            <table id="example1_" class="table table-sm text-sm">
                                                                                                <thead>
                                                                                                    <tr>
                                                                                                        <th>Transaction #</th>
                                                                                                        <th>Selling Price</th>
                                                                                                        <th>Under Contract Date</th>
                                                                                                        <th>Buyer</th>

                                                                                                        <th>Earnest Money Deposit</th>
                                                                                                        <th>Escrow Agent</th>

                                                                                                        <th>Status</th>
                                                                                                        <th>Status Change Date</th>


                                                                                                        <th></th>
                                                                                                    </tr>
                                                                                                </thead>
                                                                                                <tbody>

                                                                                                    @foreach (var item in Model.DiligenceNetleaseList)
                                                                                                    {
                                                                                                        var dtUnderContractDateDisp = item.UnderContractDate == default(DateTime?) ? "" : item.UnderContractDate.Value.ToString("MM-dd-yyyy");

                                                                                                        var dtDispositionClosedDate = item.DispositionClosedDate == default(DateTime?) ? "" : item.DispositionClosedDate.Value.ToString("MM-dd-yyyy");
                                                                                                        var dtDispositionTerminatedDate = item.DispositionTerminatedDate == default(DateTime?) ? "" : item.DispositionTerminatedDate.Value.ToString("MM-dd-yyyy");

                                                                                                        var diligenceClosedStatus = "";
                                                                                                        var diligenceTerminatedStatus = "";

                                                                                                        if (item.DispositionTerminatedStatus == 1)
                                                                                                        {
                                                                                                            diligenceTerminatedStatus = "checked";
                                                                                                        }



                                                                                                        if (item.DispositionClosedStatus == 1)
                                                                                                        {
                                                                                                            diligenceClosedStatus = "checked";
                                                                                                        }


                                                                                                        <tr>
                                                                                                            <td>@item.DiligenceDispositionsId</td>
                                                                                                            <td>@item.SalePrice</td>
                                                                                                            <td>@dtUnderContractDateDisp</td>
                                                                                                            <td>@item.Buyers</td>

                                                                                                            <td>@item.EMD</td>
                                                                                                            <td>@item.EscrowAgent</td>

                                                                                                            <td>@item.SelectedTransactionStatusName</td>
                                                                                                            <td>@item.SelectedTransactionDate.Value.ToString("MM-dd-yyyy")</td>


                                                                                                            <td>

                                                                                                                @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 2).CanEdit)
                                                                                                                {

                                                                                                                    <!--
                                                                                                                                <div class="btn-group btn-group-sm">
                                                                                                                                    <input type="button" value="Edit" class="btn btn-primary" onclick="viewDiligenceDispositionItem(@item.DiligenceDispositionsId, @Model.MaxPriorityTransactionStatusId);" />
                                                                                                                                    <input type="button" value="Critical Items" class="btn btn-success" onclick="viewCriticalItems(@item.DiligenceDispositionsId, @Model.NetleasePropertyId);" />
                                                                                                                                </div>
                                                                                                                    -->



                                                                                                                    if (item.SelectedTransactionStatusId == (int)SamsTransactionStatus.Terminated_Dispositions)
                                                                                                                    {
                                                                                                                        <input type="button" value="Terminated. Please Click To View " class="btn btn-danger" onclick="viewDiligenceNetleaseItem(@item.DiligenceDispositionsId, @Model.MaxPriorityTransactionStatusId);" />
                                                                                                                    }
                                                                                                                    else if (item.SelectedTransactionStatusId == (int)SamsTransactionStatus.Closed_Dispositions)
                                                                                                                    {
                                                                                                                        <input type="button" value="Closed. Please Click To View " class="btn btn-success" onclick="viewDiligenceNetleaseItem(@item.DiligenceDispositionsId, @Model.MaxPriorityTransactionStatusId);" />
                                                                                                                        if (loggedInUser.RolePermission.SamsRole.RoleName == "Admin")
                                                                                                                        {
                                                                                                                            <input type="button" value="Reset Transaction" class="btn btn-danger" onclick="resetClosedSaleTransaction(@item.DiligenceDispositionsId);" />
                                                                                                                        }
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <div class="btn-group btn-group-sm">
                                                                                                                            <input type="button" value="Edit" class="btn btn-primary" onclick="viewDiligenceNetleaseItem(@item.DiligenceDispositionsId, @Model.MaxPriorityTransactionStatusId);" />
                                                                                                                            <!--
                                                                                                                            <input type="button" value="Critical Items" class="btn btn-success" onclick="viewCriticalItems(@item.DiligenceDispositionsId, @Model.NetleasePropertyId);" />
                                                                                                                            -->
                                                                                                                        </div>
                                                                                                                    }

                                                                                                                    if (loggedInUser.RolePermission.SamsRole.RoleName == "Admin")
                                                                                                                    {
                                                                                                                        <input type="button" value="Delete" class="btn btn-danger" onclick="deleteSaleTransaction(@item.DiligenceDispositionsId);" />
                                                                                                                    }

                                                                                                                }


                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    }

                                                                                                </tbody>
                                                                                            </table>






                                                                                        </div>
                                                                                        <!-- /.card-body -->
                                                                                    </div>





                                                                                </div>
                                                                            }
                                                                            if (Model.AssetTypeId == (int)SamAssetType.LeaseWithPurchaseOption)
                                                                            {
                                                                                <div class="col-12 col-sm-12" id="divTblLease">








                                                                                    <div class="card card-info ">
                                                                                        <div class="card-header @sams.Common.Helper.PrimaryColor">
                                                                                            <div class="row">
                                                                                                <div class="col-10">
                                                                                                    <h3 class="card-title">Lease With Purchase Option Details</h3>
                                                                                                </div>
                                                                                                <div class="col-2">
                                                                                                    @if (@Model.SelectedPropertyStatusId != 3 && @Model.SelectedPropertyStatusId != 4 )
                                                                                                    {
                                                                                                        @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 2).CanEdit)
                                                                                                        {
                                                                                                            @if (@Model.CanAddTransactions)
                                                                                                            {
                                                                                                                <button type="button" class="btn btn-xs btn-warning" onclick="viewDiligenceLeaseWithPurchaseItem(0, @Model.MaxPriorityTransactionStatusId)">
                                                                                                                    Add New
                                                                                                                </button>
                                                                                                            }
                                                                                                        }
                                                                                                        /**/
                                                                                                    }


                                                                                                </div>
                                                                                            </div>

                                                                                        </div>
                                                                                        <div class="card-body">



                                                                                            <table id="example1_" class="table table-sm text-sm">
                                                                                                <thead>
                                                                                                    <tr>
                                                                                                        <th>Transaction #</th>
                                                                                                        <th>Tenant</th>
                                                                                                        <th>Rent</th>
                                                                                                        <th>Under Contract Date</th>

                                                                                                        <th>DDP Expiration Date</th>
                                                                                                        <th>Earnest Money Deposit</th>
                                                                                                        <th>Tenant Attorney</th>

                                                                                                        <th>Status</th>
                                                                                                        <th>Status Change Date</th>

                                                                                                        <th></th>
                                                                                                    </tr>
                                                                                                </thead>
                                                                                                <tbody>

                                                                                                    @foreach (var item in Model.DiligenceLeaseWithPurchaseList)
                                                                                                    {
                                                                                                        var dtUnderContractDateLease = item.UnderContractDate == default(DateTime?) ? "" : item.UnderContractDate.Value.ToString("MM-dd-yyyy");
                                                                                                        var dtDueDiligenceExpiryDateLease = item.DueDiligenceExpiryDate == default(DateTime?) ? "" : item.DueDiligenceExpiryDate.Value.ToString("MM-dd-yyyy");

                                                                                                        var dtDispositionClosedDate = item.DispositionClosedDate == default(DateTime?) ? "" : item.DispositionClosedDate.Value.ToString("MM-dd-yyyy");
                                                                                                        var dtDispositionTerminatedDate = item.DispositionTerminatedDate == default(DateTime?) ? "" : item.DispositionTerminatedDate.Value.ToString("MM-dd-yyyy");

                                                                                                        var diligenceClosedStatus = "";
                                                                                                        var diligenceTerminatedStatus = "";

                                                                                                        if (item.DispositionTerminatedStatus == 1)
                                                                                                        {
                                                                                                            diligenceTerminatedStatus = "checked";
                                                                                                        }


                                                                                                        if (item.DispositionClosedStatus == 1)
                                                                                                        {
                                                                                                            diligenceClosedStatus = "checked";
                                                                                                        }


                                                                                                        <tr>
                                                                                                            <td>@item.DiligenceLeaseWithPurchaseId</td>
                                                                                                            <td>@item.Tenant</td>

                                                                                                            <td>@item.Rent</td>
                                                                                                            <td>@dtUnderContractDateLease</td>
                                                                                                            <td>@dtDueDiligenceExpiryDateLease</td>
                                                                                                            <td>@item.EarnestMoneyDeposit</td>
                                                                                                            <td>@item.TenantAttorney</td>

                                                                                                            <td>@item.SelectedTransactionStatusName</td>
                                                                                                            <td>@item.SelectedTransactionDate.Value.ToString("MM-dd-yyyy")</td>

                                                                                                            <td>


                                                                                                                @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 2).CanEdit)
                                                                                                                {
                                                                                                                    if (item.SelectedTransactionStatusId == (int)SamsTransactionStatus.Terminated_Dispositions)
                                                                                                                    {
                                                                                                                        <input type="button" value="Terminated. Please Click To View " class="btn btn-danger" onclick="viewDiligenceLeaseWithPurchaseItem(@item.DiligenceLeaseWithPurchaseId, @Model.MaxPriorityTransactionStatusId);" />
                                                                                                                    }
                                                                                                                    else if (item.SelectedTransactionStatusId == (int)SamsTransactionStatus.Closed_Dispositions)
                                                                                                                    {
                                                                                                                        <input type="button" value="Closed. Please Click To View " class="btn btn-success" onclick="viewDiligenceLeaseWithPurchaseItem(@item.DiligenceLeaseWithPurchaseId, @Model.MaxPriorityTransactionStatusId);" />
                                                                                                                        if (loggedInUser.RolePermission.SamsRole.RoleName == "Admin")
                                                                                                                        {
                                                                                                                            <input type="button" value="Reset Transaction" class="btn btn-danger" onclick="resetClosedLeaseWithPurchaseTransaction(@item.DiligenceLeaseWithPurchaseId);" />
                                                                                                                        }
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <div class="btn-group btn-group-sm">
                                                                                                                            <input type="button" value="Edit" class="btn btn-primary" onclick="viewDiligenceLeaseWithPurchaseItem(@item.DiligenceLeaseWithPurchaseId, @Model.MaxPriorityTransactionStatusId);" />
                                                                                                                            <!--
                                                                                                                            <input type="button" value="Critical Items" class="btn btn-success" onclick="viewLeaseCriticalItems(@item.DiligenceLeaseWithPurchaseId, @Model.NetleasePropertyId);" />
                                                                                                                            -->
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                    if (loggedInUser.RolePermission.SamsRole.RoleName == "Admin")
                                                                                                                    {
                                                                                                                        <input type="button" value="Reset Transaction" class="btn btn-danger" onclick="deleteLeaseWithPurchaseTransaction(@item.DiligenceLeaseWithPurchaseId);" />
                                                                                                                    }

                                                                                                                }
                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    }

                                                                                                </tbody>
                                                                                            </table>






                                                                                        </div>
                                                                                        <!-- /.card-body -->
                                                                                    </div>





                                                                                </div>
                                                                            }
                                                                    }

                                                                </div>


                                                                @{
                                                                    if (Model.PropertyHistoryList.Count > 0 && Model.AssetTypeId != (int)SamAssetType.Lease)
                                                                    {
                                                                        <div class="row">
                                                                            <div class="col-12 col-sm-12">

                                                                                <div class="card card-info ">
                                                                                    <div class="card-header @sams.Common.Helper.PrimaryColor">
                                                                                        <div class="row">
                                                                                            <div class="col-10">
                                                                                                <h3 class="card-title">Transaction History</h3>
                                                                                            </div>
                                                                                            <div class="col-2">
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="card-body">

                                                                                        <table id="example1_" class="table table-sm text-sm">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th>Transaction #</th>

                                                                                                    <th>Notes</th>
                                                                                                    <th>Status</th>

                                                                                                    <th>Changed By</th>
                                                                                                    <th>Date</th>
                                                                                                    <th></th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                            <tbody>

                                                                                                @foreach (var item in Model.PropertyHistoryList)
                                                                                                {

                                                                                                    <tr>
                                                                                                        <td>@item.TransactionId</td>

                                                                                                        <td>@item.Description</td>
                                                                                                        <td>@item.StatusName</td>
                                                                                                        <td>@item.LoggedInUserName</td>
                                                                                                        <td>@item.CreatedDate.ToString("MM-dd-yyyy")</td>
                                                                                                        <td>
                                                                                                            @{
                                                                                                                if (loggedInUser.RolePermission.SamsRole.RoleName == "Admin")
                                                                                                                {
                                                                                                                    <input type="button" value="Delete" class="btn btn-danger" onclick="deleteTransactionHistory(@item.PropertyHistoryId);" />
                                                                                                                }
                                                                                                            }
                                                                                                        </td>
                                                                                                    </tr>
                                                                                                }

                                                                                            </tbody>
                                                                                        </table>

                                                                                    </div>

                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    }
                                                                }







                                                            </div>

                                                        </div>
                                                    }




                                                    @{
                                                        if (Model.NetleasePropertyId > 0 && Model.IsShoppingCenter)
                                                        {
                                                            <div class="row">
                                                                <div class="col-lg-12">

                                                                    @if (Model.AssetTypeId != (int)SamAssetType.Lease)
                                                                    {
                                                                        <div class="card card-info" id="divFutureTenantMatrix">
                                                                            <div class="card-header @sams.Common.Helper.PrimaryColor">
                                                                                <h3 class="card-title">Future Tenant Matrix</h3>
                                                                            </div>
                                                                            <div class="card-body">

                                                                                <div class="row">

                                                                                    <div class="col-lg-12">




                                                                                        <table id="example1" class="table table-sm text-sm">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th>Tenant Name</th>
                                                                                                    <th>Unit #</th>
                                                                                                    <th>Term</th>
                                                                                                    <th>Rent</th>

                                                                                                    <th>CAM</th>
                                                                                                    <th>Under Contract Date</th>
                                                                                                    <th>DDP</th>
                                                                                                    <th>Action</th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                            <tbody>

                                                                                                @foreach (var clientItem in Model.FutureTenantList)
                                                                                                {
                                                                                                    <tr>
                                                                                                        <td>@clientItem.Tenant</td>
                                                                                                        <td>@clientItem.Unit</td>
                                                                                                        <td>@clientItem.Term</td>
                                                                                                        <td>@clientItem.Rent</td>
                                                                                                        <td>@clientItem.CAM</td>
                                                                                                        <td>@clientItem.UnderContractDate</td>
                                                                                                        <td>@clientItem.DDP</td>

                                                                                                        <td>
                                                                                                            @if (@Model.SelectedPropertyStatusId != 3)
                                                                                                                @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                                                                                {
                                                                                                                    <button type="button" class="btn btn-secondary" onclick="showFutureTenantTimeTracker(@clientItem.FutureTenantId)">
                                                                                                                        Critical Date Tracker
                                                                                                                    </button>
                                                                                                                    <button type="button" class="btn btn-info" onclick="maanageFutureTenant(@clientItem.FutureTenantId, @Model.NetleasePropertyId)">
                                                                                                                        Edit
                                                                                                                    </button>
                                                                                                                    <button type="button" class="btn btn-danger" style="margin-top:3px;" onclick="removeFutureTenant(@clientItem.FutureTenantId, @Model.NetleasePropertyId)">
                                                                                                                        Delete
                                                                                                                    </button>
                                                                                                                }

                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    }



                                                                                            </tbody>

                                                                                        </table>

                                                                                        @if (@Model.SelectedPropertyStatusId != 3)
                                                                                            @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                                                            {
                                                                                                <button type="button" class="btn btn-info" onclick="maanageFutureTenant(0, @Model.NetleasePropertyId)">
                                                                                                    Add New Tenant
                                                                                                </button>
                                                                                            }





                                                                                        </div>


                                                                                    </div>

                                                                                </div>
                                                                                <!-- /.card-body -->
                                                                            </div>
                                                                        }


































                                                                    <div class="card card-info">
                                                                        <div class="card-header @sams.Common.Helper.PrimaryColor">
                                                                            <h1 class="card-title">Shopping Center Layout</h1>
                                                                        </div>
                                                                        <div class="card-body">

                                                                            <div class="row">

                                                                                <div class="col-lg-12">

                                                                                    <form id="frmShoppingMartPlan" name="frmShoppingMartPlan" method="post" enctype="multipart/form-data" action="@Url.Action("UploadShoppingMartPlanFileName", "NetLeaseProperties")">

                                                                                        <div class="form-group">

                                                                                            <label for="UploadedPdf" class="control-label">Select Layout</label>
                                                                                            @{
                                                                                                if (Model.SavedShoppingMartPlanFileName != null && Model.SavedShoppingMartPlanFileName.Length > 0)
                                                                                                {
                                                                                                    <a target="_blank" href="@Url.Content("~/" + Model.SavedShoppingMartPlanFileName)"> @Model.ShoppingMartPlanFileName </a>
                                                                                                }
                                                                                            }
                                                                                            <input type="file" name="UploadedImage" id="fileUploadedShoppingMart" onchange="postShoppingMartFile()" style="visibility:hidden;" />
                                                                                            <input type="hidden" id="PropertyId" name="PropertyId" value="@Model.NetleasePropertyId" />
                                                                                            @if (@Model.SelectedPropertyStatusId != 3)
                                                                                                @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                                                                {
                                                                                                    <a href="javascript:selectPlanFile()" class="btn btn-sm btn-warning">Upload Shopping Center Layout</a>
                                                                                                }

                                                                                            </div>






                                                                                        </form>

                                                                                    </div>


                                                                                </div>

                                                                            </div>
                                                                            <!-- /.card-body -->
                                                                        </div>




                                                                        <div class="card card-info" id="divTenantRentAndCamMatrix">
                                                                            <div class="card-header @sams.Common.Helper.PrimaryColor">
                                                                                <h3 class="card-title">Tenant Rent & Cam Matrix</h3>
                                                                            </div>
                                                                            <div class="card-body">

                                                                                <div class="row">

                                                                                    <div class="col-lg-12">




                                                                                        <table id="example1" class="table table-sm text-sm">
                                                                                            <thead>
                                                                                                <tr>
                                                                                                    <th>Tenant Name</th>
                                                                                                    <th>Unit #</th>
                                                                                                    <th>Annual Rent</th>
                                                                                                    <th>Rent Monthly</th>

                                                                                                    <th>CAM Monthly</th>
                                                                                                    <th>CAM Yearly</th>
                                                                                                    <th>Lease Expiration</th>
                                                                                                    <th>Action</th>
                                                                                                </tr>
                                                                                            </thead>
                                                                                            <tbody>

                                                                                                @foreach (var clientItem in Model.ShoppingCenterClientList)
                                                                                                {
                                                                                                    <tr>
                                                                                                        <td>@clientItem.TenantName</td>
                                                                                                        <td>@clientItem.UnitSelected</td>
                                                                                                        <td>@clientItem.AnnualRent</td>
                                                                                                        <td>@clientItem.MonthlyRent</td>
                                                                                                        <td>@clientItem.CamMonthly</td>
                                                                                                        <td>@clientItem.CamYearly</td>
                                                                                                        <td>@clientItem.LeaseExpaires</td>

                                                                                                        <td>
                                                                                                            @if (@Model.SelectedPropertyStatusId != 3)
                                                                                                                @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                                                                                {
                                                                                                                    <button type="button" class="btn btn-info" onclick="maanageTenant(@clientItem.ShoppingCenterClientId, @Model.NetleasePropertyId)">
                                                                                                                        Edit
                                                                                                                    </button>
                                                                                                                    <button type="button" class="btn btn-danger" onclick="removeTenant(@clientItem.ShoppingCenterClientId, @Model.NetleasePropertyId)">
                                                                                                                        Delete
                                                                                                                    </button>
                                                                                                                }

                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    }



                                                                                            </tbody>

                                                                                        </table>

                                                                                        @if (@Model.SelectedPropertyStatusId != 3)
                                                                                            @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                                                            {
                                                                                                <button type="button" class="btn btn-info" onclick="maanageTenant(0, @Model.NetleasePropertyId)">
                                                                                                    Update Tenant
                                                                                                </button>
                                                                                            }


                                                                                            <button type="button" class="btn btn-info" onclick="exportTenantList(@Model.NetleasePropertyId)">
                                                                                                Export to Excel
                                                                                            </button>

                                                                                        </div>


                                                                                    </div>

                                                                                </div>
                                                                                <!-- /.card-body -->
                                                                            </div>







                                                                        </div>
                                                                    </div>
                                                                }
                                                    }


                                                </div>
                                                <!-- /.card -->
                                            </div>
                                        </div>

                                    </div>







                                </section>
                            </div>







                            <div class="modal fade" id="modal-default">

                                <script>
                                    function submitValues() {
                                        var txtFileType = $("#FileType").val();
                                        if (txtFileType == "") {
                                            $("#errFileType").html("<font color='red'>Please enter file name</font>");
                                            $("#FileType").focus();
                                            return;
                                        }
                                        else {
                                            $("#errFileType").html("");
                                        }
                                        var fileName = $("#SelectedFile").val();
                                        if (!fileName) {
                                            $("#errUploadedFile").html("<font color='red'>Please Select a file</font>");
                                            return;
                                        }
                                        else {
                                            $("#errUploadedFile").html("");
                                        }

                                        $("#SaveAdditionalFile").submit();
                                    }


                                </script>

                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Select File</h4>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <form action="@Url.Action("SaveAdditionalFile", "NetLeaseProperties")" id="SaveAdditionalFile" name="SaveAdditionalFile" method="post" enctype="multipart/form-data">
                                                <div class="row">
                                                    <div class="col-lg-12">

                                                        <div class="form-group">
                                                            <label id="" class="control-label">Display Name</label>
                                                            <input id="FileType" name="FileType" class="form-control" />
                                                            <input type="hidden" id="PropertyId" name="PropertyId" class="form-control" value="@Model.NetleasePropertyId" />
                                                            <div id="errFileType"></div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label for="UploadedPdf" class="control-label">Select File</label>
                                                            <input type="file" id="SelectedFile" name="SelectedFile" class="form-control" />
                                                            <div id="errUploadedFile"></div>
                                                        </div>

                                                    </div>

                                                </div>
                                            </form>

                                        </div>
                                        <div class="modal-footer justify-content-between">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                            @if (@Model.SelectedPropertyStatusId != 3)
                                                @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                {
                                                    <button type="button" class="btn btn-primary" onclick="submitValues()">Save changes</button>
                                                }

                                            </div>
                                        </div>
                                        <!-- /.modal-content -->
                                    </div>
                                    <!-- /.modal-dialog -->
                                </div>
                                <!-- /.modal -->






                                <div class="modal fade" id="modal-new-todo">

                                    <script>
                                        function submitValuesTodo() {
                                            var txtFileType = $("#TodoText").val();
                                            if (txtFileType == "") {
                                                $("#errTodoText").html("<font color='red'>Please enter To do</font>");
                                                $("#Todo").focus();
                                                return;
                                            }
                                            else {
                                                $("#errTodoText").html("");
                                            }


                                            $("#SaveTodo").submit();
                                        }


                                    </script>

                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h4 class="modal-title">Add Todo</h4>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <form action="@Url.Action("SaveTodo", "NetLeaseProperties")" id="SaveTodo" name="SaveTodo" method="post" enctype="multipart/form-data">
                                                    <div class="row">
                                                        <div class="col-lg-12">

                                                            <div class="form-group">
                                                                <label id="" class="control-label">To Do</label>
                                                                <textarea id="TodoText" name="TodoText" class="form-control" rows="4"></textarea>
                                                                <input type="hidden" name="PropertyId" value="@Model.NetleasePropertyId" id="PropertyId" />
                                                                <div id="errTodoText"></div>
                                                            </div>



                                                        </div>

                                                    </div>
                                                </form>

                                            </div>
                                            <div class="modal-footer justify-content-between">
                                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                <button type="button" class="btn btn-primary" onclick="submitValuesTodo()">Save</button>
                                            </div>
                                        </div>
                                        <!-- /.modal-content -->
                                    </div>
                                    <!-- /.modal-dialog -->
                                </div>
                                <!-- /.modal -->




                                <div class="modal fade" id="modal-new-period">

                                    <script>
                                        function submitPeriod() {

                                            var periodMaster = $("#p_PeriodMaster").val().trim();
                                            var sDate = $("#p_StartDate").val().trim();
                                            var duration = $("#txtDuration").val().trim();
                                            var nTes = $("#p_PeriodNotes").val().trim();

                                            if (periodMaster == "") {
                                                $("#errPeriodMaster").html("<font color='red'>Please Enter Critical Item</font>");
                                                return;
                                            }
                                            else {
                                                $("#errPeriodMaster").html("");
                                            }

                                            if (sDate == '') {
                                                $("#errStartDate").html("<font color='red'>Please Enter Start Date</font>");
                                                return;
                                            }
                                            else {
                                                $("#errStartDate").html("");
                                            }

                                            /*
                                            if (eDate == '') {
                                                $("#errEndDate").html("<font color='red'>Please Enter End Date</font>");
                                                return;
                                            }
                                            else {
                                                $("#errEndDate").html("");
                                            }*/

                                            if (duration == '') {
                                                $("#errDuration").html("<font color='red'>Please Enter Duration</font>");
                                                return;
                                            }
                                            else {
                                                $("#errDuration").html("");
                                            }

                                            if (nTes == '') {
                                                $("#errPeriodNotes").html("<font color='red'>Please Enter Notes</font>");
                                                return;
                                            }
                                            else {
                                                $("#errPeriodNotes").html("");
                                            }

                                            $("#SavePeriod").submit();
                                        }

                                        function isNumberKey(evt) {
                                            var charCode = (evt.which) ? evt.which : event.keyCode
                                            if (charCode > 31 && (charCode < 48 || charCode > 57))
                                                return false;

                                            return true;
                                        }

                                    </script>

                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h4 class="modal-title">Critical Item</h4>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <form action="@Url.Action("SavePeriod", "NetLeaseProperties")" id="SavePeriod" name="SavePeriod" method="post" enctype="multipart/form-data">
                                                    <div class="row">
                                                        <div class="col-lg-12">

                                                            <div class="form-group">
                                                                <div class="form-group">
                                                                    <label for="selSiteState" class="control-label">Critical Item * </label>
                                                                    <input type="text" value="" name="PeriodMaster" id="p_PeriodMaster" class="form-control" />
                                                                </div>


                                                                <input type="hidden" name="PropertyId" value="@Model.NetleasePropertyId" id="PropertyId" />
                                                                <input type="hidden" name="PropertyType" id="p_PropertyId" />
                                                                <input type="hidden" name="PeriodId" value="0" id="p_PeriodId" />
                                                                <input type="hidden" name="PeriodType" id="periodType" value="@periodType" />
                                                                <div id="errPeriodMaster"></div>
                                                            </div>


                                                            <!-- /.input group -->
                                                            <div class="form-group">
                                                                <label for="p_StartDate" class="control-label">Start Date * </label>
                                                                <input type="text" value="" name="StartDate" class="form-control" id="p_StartDate" readonly />
                                                                <div id="errStartDate"></div>
                                                            </div>

                                                            <!---
                                                            <div class="form-group">
                                                                <label for="EarnestMoney" class="control-label">End Date * </label>
                                                                <input type="text" value="" name="EndDate" class="form-control" id="p_EndDate" readonly />
                                                                <div id="errEndDate"></div>
                                                            </div>-->

                                                            <div class="form-group">
                                                                <label for="txtDuration" class="control-label">Duration *</label>
                                                                <input type="text" value="" name="AddedDuration" class="form-control" id="txtDuration" onkeypress="return isNumberKey(event)" />
                                                                <div id="errDuration"></div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label for="p_PeriodNotes" class="control-label">Notes * </label>
                                                                <textarea name="PeriodNotes" class="form-control" rows="5" id="p_PeriodNotes"></textarea>
                                                                <div id="errPeriodNotes"></div>
                                                            </div>


                                                        </div>

                                                    </div>
                                                </form>

                                            </div>
                                            <div class="modal-footer justify-content-between">
                                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                @if (@Model.SelectedPropertyStatusId != 3)
                                                    @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                    {
                                                        <button type="button" class="btn btn-primary" onclick="submitPeriod()">Save</button>
                                                    }

                                                </div>
                                            </div>
                                            <!-- /.modal-content -->
                                        </div>
                                        <!-- /.modal-dialog -->
                                    </div>
                                    <!-- /.modal -->



                                    <div class="modal fade" id="modal-date-closed">

                                        <script>
                                            function submitClosedDate() {

                                                var sDate = $("#p_DateClosed").val().trim();

                                                if (sDate == '') {
                                                    $("#errDateClosed").html("<font color='red'>Please Enter Date Closed</font>");
                                                    return;
                                                }
                                                if (confirm("Do you want to proceed?")) {
                                                    $("#frmSaveDateClosed").submit();
                                                }
                                            }


                                        </script>

                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h4 class="modal-title">Date Closed</h4>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <form action="@Url.Action("SaveDateClosed", "NetLeaseProperties")" id="frmSaveDateClosed" name="frmSaveDateClosed" method="post" enctype="multipart/form-data">
                                                        <div class="row">
                                                            <div class="col-lg-12">




                                                                <!-- /.input group -->
                                                                <div class="form-group">
                                                                    <input type="hidden" name="PropertyId" value="@Model.NetleasePropertyId" id="PropertyId" />
                                                                    <label for="p_DateClosed" class="control-label">Date Closed *</label>
                                                                    <input type="text" value="" name="DateClosed" class="form-control" id="p_DateClosed" readonly />
                                                                    <div id="errDateClosed"></div>
                                                                </div>


                                                            </div>

                                                        </div>
                                                    </form>

                                                </div>
                                                <div class="modal-footer justify-content-between">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                    @if (@Model.SelectedPropertyStatusId != 3)
                                                        @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 2).CanEdit)
                                                        {
                                                            <button type="button" class="btn btn-primary" onclick="submitClosedDate()">Save</button>
                                                        }

                                                    </div>
                                                </div>
                                                <!-- /.modal-content -->
                                            </div>
                                            <!-- /.modal-dialog -->
                                        </div>
                                        <!-- /.modal -->










                                        <div class="modal fade" id="modal-confidential-file">

                                            <script>
                                                function submitValuesConfidential() {
                                                    
                                                    var txtFileType = $("#ConfidentialFileType").val();
                                                    if (txtFileType == "") {
                                                        $("#errConfidentialFileType").html("<font color='red'>Please enter Confidential File Name</font>");
                                                        $("#ConfidentialFileType").focus();
                                                        return;
                                                    }
                                                    else {
                                                        $("#errConfidentialFileType").html("");
                                                    }
                                                    var fileName = $("#ConfidentialSelectedFile").val();
                                                    if (!fileName) {
                                                        $("#errConfidentialUploadedFile").html("<font color='red'>Please Select a file</font>");
                                                        return;
                                                    }
                                                    else {
                                                        $("#errConfidentialUploadedFile").html("");
                                                    }

                                                    $("#SaveConfidentialFile").submit();
                                                }


                                            </script>

                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title">Select File</h4>
                                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                            <span aria-hidden="true">&times;</span>
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <form action="@Url.Action("SaveConfidentialFile", "NetLeaseProperties")" id="SaveConfidentialFile" name="SaveConfidentialFile" method="post" enctype="multipart/form-data">
                                                            <div class="row">
                                                                <div class="col-lg-12">

                                                                    <div class="form-group">
                                                                        <label id="" class="control-label">Display Name</label>
                                                                        <input id="ConfidentialFileType" name="FileType" class="form-control" />
                                                                        <input type="hidden" id="PropertyId" name="PropertyId" class="form-control" value="@Model.NetleasePropertyId" />
                                                                        <div id="errConfidentialFileType"></div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label for="UploadedPdf" class="control-label">Select File</label>
                                                                        <input type="file" id="ConfidentialSelectedFile" name="SelectedFile" class="form-control" />
                                                                        <div id="errConfidentialUploadedFile"></div>
                                                                    </div>

                                                                </div>

                                                            </div>
                                                        </form>

                                                    </div>
                                                    <div class="modal-footer justify-content-between">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                        @if (@Model.SelectedPropertyStatusId != 3)
                                                            @if (loggedInUser.RolePermission.RolePermissionList.FirstOrDefault(p => p.ModuleId == 3).CanEdit)
                                                            {
                                                                <button type="button" class="btn btn-primary" onclick="submitValuesConfidential()">Save changes</button>
                                                            }

                                                        </div>
                                                    </div>
                                                    <!-- /.modal-content -->
                                                </div>
                                                <!-- /.modal-dialog -->
                                            </div>
                                            <!-- /.modal -->